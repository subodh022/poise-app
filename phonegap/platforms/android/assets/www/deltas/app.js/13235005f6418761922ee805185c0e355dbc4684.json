["function _2d42a5fa0e526313bc1d813c8c0e6a2e8ec3ac16",50,1277,"slider){Ext.slide",1314,453,"util){Poise.util",1753,531965,"slider.Thumb",301071,37,"humb\",pressedCls:\"x-thumb-pressing\",draggable:{direction:\"horizontal\"}},platformConfig:[{platform:[\"ie10\"],draggable:{",451840,32,"\"csstransform\"}}}],elementWidth:0",280000,74,"getDraggable().onBefore({",236924,57,",scope:this});this.getDraggable().on({",164206,53,");this.element.on(",240313,32,"},getTemplate",524009,68,"return[{tag:\"div\",className:\"x-thumb-inner\",reference:\"innerElement\"}]}else{return this.template}",280737,88,282152,42,282216,41,"a.addCls(b)",282368,119,282586,40,",onDragStart:function(){if(this.isDisabled()){return false}this.relayEvent(arguments)},onDrag:function(){if(this.isDisabled()){return false}this.relayEvent(arguments)},onDragEnd:function(){if(this.isDisabled()){return false}this.relayEvent(arguments)",240991,37,"elementWidth=b.width},getElem",488461,32,"elementWidth}},0,[\"thumb\"],[\"component\",\"thumb\"],{component:true,thumb:true},[\"widget.thumb\"],0,[Ext.slider,\"Thumb\"],0));(Ext.cmd.derive(\"Ext.slider.Slider",533731,36,"slider\",thumbConfig:{draggable:{translatable:{easingX:{duration:300,type:\"ease-out\"}}}},increment:1,value:0,minValue:0,maxValue:100,allowThumbsOverlapping:false,animation:true,readOnly:false},elementWidth:0,offsetValueRatio:0,activeThumb:null",380671,38,"hasOwnProperty(\"values\")){a.value=a.values}",435161,36,"call(this,a)}",523677,33,".element;",435510,46,"b.on({scope:this,tap:\"onTap\",resize:\"onResize\"});this.on({scope:this,delegate:\"> thumb\",tap:\"onTap\",dragstart:\"onThumbDragStart\",drag:\"onThumbDrag\",dragend:\"onThumbDragEnd\"});var a=this.getThumb(0);if(a){a.on(\"resize\",\"onThumbResize\",this)}},factoryThumb:function(){return Ext.factory(this.getThumbConfig(),Ext.slider.Thumb)},getThumb",271800,40,"Thumb:function(a){if(typeof a!=\"number\"){a=0}return this.innerItems[a]},refreshOffsetValueRatio:function(){var b=this.getMaxValue()-this.getMinValue(),a=this.elementWidth-this.thumbWidth;this.offsetValueRatio=a/b},onThumbResize:function(){var a=this.getThumb(0);if(a){this.thumbWidth=a.getElementWidth()}this.refresh()},onResize:function(a,b){this.elementWidth=b.width;this.refresh(",167492,34,"Value()},setActiveThumb:function(b){var a=this.activeThumb;if(a&&a!==b){a.setZIndex(null)}this.activeThumb=b;b.setZIndex(2);return this},onThumbDragStart:function(a,b){if(b.absDeltaX<=b.absDeltaY||this.getReadOnly()){return false}else{b.stopPropagation()}if(this.getAllowThumbsOverlapping()){this.setActiveThumb(a)}this.dragStartValue=this.getValue()[this.getThumbIndex(a)];this.fireEvent(\"dragstart\",this,a,this.dragStartValue,b)},onThumbDrag:function(c,g,a){var d=this.getThumbIndex(c),f=this.offsetValueRatio,b=this.constrainValue(this.getMinValue()+a/f);g.stopPropagation();this.setIndexValue(d,b);this.fireEvent(\"drag\",this,c,this.getValue(),g);return false},setIndexValue:function(d,f,b){var a=this.getThumb(d),h=this.getValue(),e=this.getMinValue(),c=this.offsetValueRatio,g=this.getIncrement(),j=a.getDraggable();j.setOffset((f-e)*c,null,b);h[d]=e+Math.round((j.offset.x/c)/g)*g},onThumbDragEnd:function(a,f){this.refreshThumbConstraints(a);var c=this.getThumbIndex(a),d=this.getValue()[c],b=this.dragStartValue",166938,38,"getValue(),f);if(b!==d){this.fireEvent(\"change\",this,a,d,b)}},getThumbIndex:function(a){return this.getThumbs().indexOf(a)},refreshThumbConstraints:function(d){var b=this.getAllowThumbsOverlapping(),a=d.getDraggable().getOffset().x,c=this.getThumbs(),e=this.getThumbIndex(d),g=c[e-1],h=c[e+1],f=this.thumbWidth;if(g){g.getDraggable().addExtraConstraint({max:{x:a-((b)?0:f)}})}if(h){h.getDraggable().addExtraConstraint({min:{x:a+((b)?0:f)}})}},onTap:function(j){if(this.isDisabled()||this.getReadOnly()){return}var k=Ext.get(j.target);if(!k||",493370,35,"k.hasCls(\"x-thumb\"))){return}var n=j.touch.point.x,h=this.element,c=h.getX(),d=n-c-(this.thumbWidth/2),o=this.constrainValue(this.getMinValue()+d/this.offsetValueRatio),r=this.getValue(),q=Infinity,m=r.length,g,f,l,p,b,a;if(m===1){p=0}else{for(g=0;g<m;g++){l=r[g];f=Math.abs(l-o);if(f<q){q=f;p=g}}}b=r[p];a=this.getThumb(p);this.setIndexValue(p,o,this.getAnimation());this.refreshThumbConstraints(a);if(b!==o){this.fireEvent(\"change\",this,a,o,b)}},updateThumbs:function(a){this.add(a)},applyValue:function(g){var d=Ext.Array.from(g||0),b=[],c=this.getMinValue(),a,e,f;for(e=0,f=d.length;e<f;e++){a=this.constrainValue(d[e]);if(a<c){a=c}b.push(a);c=a}return b},updateValue:function(f,b){var a=this.getThumbs(),d=f.length,e=this.getMinValue(),g=this.offsetValueRatio,c;this.setThumbsCount(d);for(c=0;c<d;c++){a[c].getDraggable().setExtraConstraint(null).setOffset((f[c]-e)*g)}for(c=0;c<d;c++){this.refreshThumbConstraints(a[c])}},refreshValue:function(){this.refreshOffsetValueRatio();this.setValue(this.getValue())},constrainValue:function(e){var b=this,d=b.getMinValue(),f=b.getMaxValue(),a=b.getIncrement(),c;e=parseFloat(e);if(isNaN(e)){e=d}c=(e-d)%a;e-=c;if(Math.abs(c)>=(a/2)){e+=(c>0)?a:-a}e=Math.max(d,e);e=Math.min(f,e);return e},setThumbsCount:function(e){var a=this.getThumbs(),f=a.length,c,d,b;if(f>e){for(c=0,d=f-e;c<d;c++){b=a[a.length-1];b.destroy()}}else{if(f<e){for(c=0,d=e-f;c<d;c++){this.add(this.factoryThumb())}}}return this},setValues:function(a){this.setValue(a)",523069,47,"applyIncrement:function(a){if(a===0){a=1}return Math.abs(a)},updateAllowThumbsOverlapping:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},updateMinValue:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},updateMaxValue:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},updateIncrement:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},doSetDisabled:function(c){Ext.Container",313204,53,"this.getItems().items,d=a.length,b;for(b=0;b<d;b++){a[b].setDisabled(c)}}},1,[\"slider\"],[\"component\",\"container\",\"slide",324640,35,"slider:true},[\"widget.slider\"],0,[Ext.slider,\"Slide",302351,46,"Slider",513264,48,"Slider\",config:{cls:\"x-slider-field\",tabIndex:-1,readOnly:false},proxyConfig:{increment:1,value:0,minValue:0,maxValue:100",380670,39,"hasOwnProperty(\"values\")){a.value=a.values}Ext.field.Field",301855,35,";this.updateMultipleState()}",531702,33,"Field",523744,33,"this.getComponent().on({scope:this,change:\"onSliderChange\",dragstart:\"onSliderDragStart\",drag:\"onSliderDrag\",dragend:\"onSliderDragEnd\"})",298841,54,"slider.Slider)},updateComponent:function(a){Ext.field.Field.prototype.updateComponent.apply(this,arguments);a.setMinValue(this.getMinValue());a.setMaxValue(this.getMaxValue())},onSlider",328984,32,".apply(this,[].concat(\"change\",this,",26368,37,"))},onSliderDragStart:function(){this.fireEvent.apply(this,[].concat(\"dragstart\",this,",26368,37,"))},onSliderDrag:function(){this.fireEvent.apply(this,[].concat(\"drag\",this,",26368,37,"))},onSliderDragEnd:function(){this.fireEvent.apply(this,[].concat(\"dragend\",this,",26368,37,"))},setValues:function(a){this.setValue(a);this.updateMultipleState()",523069,47,"reset:function(){var b=this.config,a=(this.config.hasOwnProperty(\"values\"))?b.values:b.value;this.setValue(",306359,34,313193,58,299755,36,306222,32,"getComponent().setReadOnly(a)",306629,64,"this.getValue()!==this.originalValue},updateMultipleState:function(){var a=this.getValue();if(a&&a.length>1){this.addCls(\"x-slider-multiple\")}}},1,[\"slid",531247,32,"slid",531295,37,"sliderfield:true},[\"widget.sliderfield\"],0,[Ext.field,\"Slider\",Ext.form,\"Slider\"],0));(Ext.cmd.derive(\"Ext.slider.Toggle\",Ext.slider.Slider,{config:{baseCls:\"x-toggle\",minValueCls:\"x-toggle-off\",maxValueCls:\"x-toggle-on\"},initialize:function(){Ext.slider.Slid",565408,44,"change:\"onChange\"})},applyMinValue:function(){return 0},applyMaxValue:function(){return 1},applyIncrement:function(){return 1},updateMinValueCls:function(c,b){var a=this.element;if(b&&a.hasCls(b)){a.replaceCls(b,c)}},updateMaxValueCls:function(c,b){var a=this.element;if(b&&a.hasCls(b)){a.replaceCls(b,c)}},setValue:function(b,a){",531043,33,"slider.Slider.prototype.setValue).apply(this,arguments);this.onChange(this,this.getThumbs()[0],b,a)},setIndexValue:function(c,e,d){var b=this.getValue()[c];Ext.slider.Slider.prototype.setIndexValue",272893,37,"Thumb(c),f=this.getValue()[c];if(b!==f){this.fireEvent(\"change\",this,a,f,b)}},onChange:function(e,a,g,c){var h=g>0,b=e.getMaxValueCls(),f=e.getMinValueCls(),d=this.element;d.addCls(h?b:f);d.removeCls(h?f:b)},toggle:function(){var a=this.getValue();this.setValue((a==1)?0:1);return this},onTap:function(){if(this.isDisabled()||this.getReadOnly()){return}var b=this.getValue(),c=(b==1)?0:1,a=this.getThumb(0);this.setIndexValue(0,c,this.getAnimation());this.refreshThumbConstraints(a",589997,34,"slide",324640,35,"slider:true},0,0,[Ext.slider,\"Toggle",309227,34,"Toggle\",Ext.field.Slide",309280,32,"Toggle\",config:{cls:\"x-toggle-field\",labelAlign:\"left\",activeLabel:null,inactiveLabel:null",450960,37,"labelAlign:\"left\"},",531631,36,",\"MountainView\"],activeLabel:\"On\",inactiveLabel:\"Off\"}],proxyConfig:{minValueCls:\"x-toggle-off\",maxValueCls:\"x-toggle-on\"",298841,54,"slider.Toggle)},updateActiveLabel:function(b,a){if(b!=a){this.getComponent().element.dom.setAttribute(\"data-activelabel\",b)}},updateInactiveLabel:function(b,a){if(b!=a){this.getComponent().element.dom.setAttribute(\"data-inactivelabel\",b)}},setValue:function(b){if(b===true){b=1}var a=this.getValue();if(a!=b){this.getComponent().setValue(b);this.fireEvent(\"change\",this,b,a)}return this},ge",514291,34,"omponent().getValue()==1)?1:0},onSliderChange:function(c,a,d,b){this.fireEvent.call(this,\"change\",this,d,b)},toggle:function(){var a=this.getValue();this.setValue((a==1)?0:1);return this},onChange:function(){this.setLabel((this.getValue()==1)?this.toggleOnLabel:this.toggleOffLabel)}},0,[\"togglefield\"],[\"component\",\"field\",\"sliderfield\",\"toggle",315136,35,"sliderfield:true,togglefield:true},[\"widget.togglefield\"],0,[Ext.field,\"Toggle\",Ext.form,\"Toggle",533690,56893,"(Ext.cmd.derive(\"Poise.util.Config\",Ext.Base,{singleton:true,config:{apiBaseU",603584,66,"\"",117184,44,";this.callParent([a])}},1,[\"appConfigUtil\"],[\"appConfigUtil\"],{appConfigUtil:true},[\"widget.appConfigUtil\"],0,[Poise.util,\"Config",590576,11986,"charts.Multi",599071,62,"Chart\"}},0,[\"oc-multiba",597423,43,"multi",598622,53,"multibarchart\":true},[\"widget.oc-multi",598717,33,"MultiBa",597598,288,"OpenCharts",484431,36,602608,370,",{name:\"attendance_today\",type:\"boolean",602976,283,"Poise.util.Config.getApiBaseUrl()+\"",603322,265,"Poise.util.Config.getApiBaseUrl()+\"api/v1/line",604080,52,603713,279,"Poise.util.Config.getApiBaseUrl()+\"",604055,936,"Poise.util.Config.getApiBaseUrl()+\"",605054,3757,"AttendanceList\",Ext.DataView",605273,65,"flex:1,useComponents:true",605357,100,"defaultType:\"attendancelistitem\",scrollable:true}},0,[\"attendancelist",442797,38,",\"attendancelis",587696,35,"dataview:true,attendancelist:true},[\"widget.attendancelist\"],0,[Poise.view,\"Attendance",605807,39,"Attendanc",605853,78,"attendance",606950,41,605980,127,607358,232,"attendancelist\"}]}]}},0,[\"attendanc",606639,51,"attendance",607679,58,"attendanceview:true},[\"widget.attendanceview\"],0,[Poise.view,\"Attendance",613501,39,608811,292,609175,103,",{xtype:\"attendanceview\",title:\"Attendance",609276,1244,"localStorage.setItem(\"obId\",\"\"",610518,575,";this.loadReports()},loadReports:function(){var c=Poise.app.getController(\"Poise.controller.Reports\");var a={config:{xtype:\"downtime_chart_panel\"}};c.onActiveItemChange(null,a);var d={config:{xtype:\"rework_chart_panel\"}};c.onActiveItemChange(null,d);var b={config:{xtype:\"output_chart_panel\"}};c.onActiveItemChange(null,b)}},0,[\"ob",616496,53,"ob",614750,64,611221,135,"flex:2",611355,743,"Downtim",611311,45,"flex:2,items:[{xtype:\"oc-multi",612163,369,"downtime_",612540,48,"downtime_",611919,56,"downtime_chart_panel:true},[\"widget.downtime_chart_panel\"],0,[Poise.view,\"Downtime",612727,45,"Output",611312,44,"flex:2,items:[{xtype:\"oc-multibarchart\",itemId:\"opAvgC",612167,140,"Output",612315,165,"Output",612488,44,"output_",612540,48,"output_",611919,56,"output_chart_panel:true},[\"widget.output_chart_panel\"],0,[Poise.view,\"Output",612727,45,"OutputTrend",611312,44,"flex:2,items:[{xtype:\"oc-barchart\",itemId:\"opTrendC",612167,140,"Output Trend",612315,165,"Output Trend",612488,49,"optrend",611867,48,"optrend_",279404,49,",nvd3_optrend_panel:true},[\"widget.nvd3_optrend_panel\"],0,[Poise.view,\"OutputTrend",612727,47,"work",611312,44,"flex:2,items:[{xtype:\"oc-multi",612163,144,"Rework",612315,165,611803,50,"rework_",612540,48,"rework_",611919,56,"rework_chart_panel:true},[\"widget.rework_chart_panel\"],0,[Poise.view,\"Rework",612727,45,"Attendanc",611311,45,"flex:2",612144,163,"Attendanc",612314,166,"Attendanc",612487,45,"attendance_",612540,48,"attendance_",611919,56,"attendance_chart_panel:true},[\"widget.attendance_chart_panel\"],0,[Poise.view,\"Attendance",612727,100,"auto",612857,32,608916,114,"listeners:{activeitemchange:function(c,d,b,a){d.fireEvent(\"painted\",this)}}",609648,46,"Daily Report\"},{xtype:\"panel\",name:\"downtime_container\",layout:\"vbox\",title:\"Downtime\",itemId:\"downtimeChart\",height:\"auto\",scrollable:true,items:[{xtype:\"panel\",layout:\"hbox\",items:[{html:'<div class=\"chart-title\">Cumulative Downtime - Work Stations</div>',style:\"text-align: left; margin-bottom: 1em; font-weight: bold;\",flex:1},{html:'<div class=\"chart-title\">Date : '+new Date().toLocaleDateString()+\"</div>\",style:\"text-align: right; margin-bottom: 1em; font-weight: bold;\",flex:2}]},{xtype:\"downtime_chart_panel\",minHeight:\"30em\"}]},{xtype:\"panel\",name:\"rework_container\",layout:\"vbox\",title:\"Rework\",itemId:\"reworkChart\",height:\"auto\",scrollable:true,items:[{xtype:\"panel\",layout:\"hbox\",items:[{html:'<div class=\"chart-title\">Cumulative Reworks - Work Stations</div>',style:\"text-align: left; margin-bottom: 1em; font-weight: bold;\",flex:1},{html:'<div class=\"chart-title\">Date : '+new Date().toLocaleDateString()+\"</div>\",style:\"text-align: right; margin-bottom: 1em; font-weight: bold;\",flex:2}]},{xtype:\"rework_chart_panel\",minHeight:\"30em\"}]},{xtype:\"panel\",name:\"output_container\",layout:\"vbox\",title:\"Output\",itemId:\"outputChart\",height:\"auto\",scrollable:true,items:[{xtype:\"panel\",layout:\"hbox\",items:[{html:'<div class=\"chart-title\">Cumulative Output - Work Stations</div>',style:\"text-align: left; margin-bottom: 1em; font-weight: bold;\",flex:1},{html:'<div class=\"chart-title\">Date : '+new Date().toLocaleDateString()+\"</div>\",style:\"text-align: right; margin-bottom: 1em; font-weight: bold;\",flex:2}]},{xtype:\"output_chart_panel\",minHeight:\"30em\"}]},{xtype:\"panel\",name:\"attendance_container\",layout:\"vbox\",title:\"Attendance\",itemId:\"attendanceChart\",height:\"auto\",scrollable:true,items:[{xtype:\"panel\",layout:\"hbox\",items:[{html:'<div class=\"chart-title\">Attendance Trend</div>',style:\"text-align: left; margin-bottom: 1em; font-weight: bold;\",flex:1},{html:'<div class=\"chart-title\">Date : '+new Date().toLocaleDateString()+\"</div>\",style:\"text-align: right; margin-bottom: 1em; font-weight: bold;\",flex:2}]},{xtype:\"attendance_chart_panel\",minHeight:\"30em",613321,4478,"Poise.util.Config.getApiBaseUrl()+\"",617862,287,"Poise.util.Config.getApiBaseUrl()+\"",618212,269,"Poise.util.Config.getApiBaseUrl()+\"",618544,258,"Attendance",618795,49,"ttendance",618836,4951,"downtimeChart:\"downtime_chart_panel oc-multibarchart\",reworkChart:\"rework_chart_panel oc-multibarchart\",outputChart:\"output_chart_panel oc-multibarchart\",opTrendChart:\"nvd3_optrend_panel oc-barchart",623785,664,624712,133,"loadChartData:function(){},onActiveItemChange:function(c,h,b,f){var d=h.config.xtype,g;var j=new Date().toLocaleDateString();var e=localStorage.getItem(\"obId\");switch(d){case\"downtime_chart_panel\":var g=this.getDowntimeChart();this.loadChartData(Poise.util.Config.getApiBaseUrl()+\"api/v1/reports/downtime.json?ob_id=\"+e+\"&report_date=\"+j,g);break;case\"rework_chart_panel\":var g=this.getReworkChart();this.loadChartData(Poise.util.Config.getApiBaseUrl()+\"api/v1/reports/rework.json?ob_id=\"+e+\"&report_date=\"+j,g);break;case\"output_chart_panel\":var g=this.getOutputChart();this.loadChartData(Poise.util.Config.getApiBaseUrl()+\"api/v1/reports/output.json?ob_id=\"+e+\"&report_date=\"+j,g);break;case\"nvd3_optrend_panel\":var g=this.getOpTrendChart();var a",624971,301,"g.renderChartData(a);break;case\"rework_linechart_panel\":var g=this.getLineChart();var a",625357,2867,"];g.renderChartData(a",631175,38,"g",631214,73,"g",631288,42,"g",631331,81,"g",631413,41,"g",631455,79,"g",631535,51,"g",631587,99,"g",631687,42,"g",631730,81,"g",631812,45,"g",631858,87,"g",631946,44,"g",631991,85,"g",632077,34,"g",632112,65,"g",632178,37,"g",632216,71,"g",632288,1644,"Attendance",446182,51,"padding:5,layout:{type:\"hbox\"},defaults:{margin:5},items:[{xtype:\"component\",flex:1,html:\"\",itemId:\"operationCmp\"},{xtype:\"component\",flex:1,html:\"\",itemId:\"machineCmp\"},{xtype:\"component\",flex:1,html:\"\",itemId:\"operatorCmp\"},{xtype:\"togglefield\",name:\"attendance\",labelWidth:\"40%\",itemId:\"toggleAttendance\",style:\"background-color: inherit\"},",615872,44,"itemId:\"workStationId\"",616890,40,"itemId:\"loggedAt\"}],listeners:[{fn:\"onToggl",610304,35,"toggleAttendance\"}]},updateRecord:function(a){var b=this;b.down(\"#operationCmp\").setHtml(a.get(\"operation_name\"));b.down(\"#machineCmp\").setHtml(a.get(\"machine_name\"));b.down(\"#operatorCmp\").setHtml(a.get(\"operator_name\"));b.down(\"#workStationId\").setValue(a.get(\"id\"));b.down(\"#loggedAt\").setValue",606526,33,";var c=b.down(\"#toggleAttendance\");c.suspendEvents();c.setValue(a.get(\"attendance_today\")?1:0);c.resumeEvents(true",447488,44,"updateRecord.apply(this,arguments)},onToggleChange:function(d,c,a,b){Ext.Ajax.request({",613995,34,"record_attendance\",method:\"POST\",params:{work_station_id:d.up(\"attendancelistitem\").down(\"#workStationId\").getValue(),logged_at:d.up(\"attendancelistitem\").down(\"#loggedAt\").getValue(),present:d.getValue()},success:function(){console.log(\"success\")},failure:function(){console.log(\"failure\")}})}},0,[\"attendance",447568,48,"attendance",447616,56,"attendancelistitem:true},[\"widget.attendancelistitem\"],0,[Poise.view,\"AttendanceListItem",633997,77,"Attendance",634067,35,"AttendanceListItem",634115,624,"localStorage.clear();",634739,294]