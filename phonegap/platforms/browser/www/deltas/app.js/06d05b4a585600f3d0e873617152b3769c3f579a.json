["function _8c6f05ad81f3132b36c02e1ccec12a32fcee7b7d",50,614971,"Time:function(){return Ext.Date.format(new Date(),\"Y-m-d",615000,14501,"ws_",629478,320,"ac_",629768,52,",{name:\"mac_messag",629665,33,"s_attendance",636556,32,629850,57,671532,49,"reportTimeData\",fields:[\"id\"],data:[{id:\"09:00:00\"},{id:\"10:00:00\"},{id:\"11:00:00\"},{id:\"12:00:00\"},{id:\"13:30:00\"},{id:\"14:30:00\"},{id:\"15:30:00\"},{id:\"16:30:00\"}]",630145,62,640976,35,630246,1040,631535,2516,630267,98,634131,172,"dynamic-list ",634303,70,"list",634370,65,"list",634429,220,"cls:\"attendance-v",631148,167,631581,177,634988,2398,"remoteSort:true",637385,36,"'<i class=\"fa fa-tag\"></i> Section: '+a.get(\"section_name\")}",637481,351,"remoteSort:true",637385,36,"'<i class=\"fa fa-tag\"></i> Section: '+a.get(\"section_name\")}",637481,67,637994,1492,"Ext.Viewport",440365,37,"\"Loading data...\"});",639486,220,639878,40,"downtime",640206,62,640200,116,639705,91,"op",670304,49,"f);k.up(\"home\").down(\"dynamicmac",670304,33,"mac_list\").setStore(f);Ext.Viewport.setMasked(false",639847,264,"this.loadDynamicDashboard(",640315,482,",loadDynamicDashboard:function(",668342,69,"a.loadDynamicDashboard(",640795,9039,"Month",649838,500,"Dashboard",634560,65,"scrollable:true,itemId:\"dynamicDashboard",651404,50,"panel\",scrollable:true",638269,32,632207,53,631258,57,651664,370,"dashboard\"}]},",665615,36,"dbPanel\",margin:10}]}]}},0,[\"dynamicdashboard",631856,47,"ynamicdashbo",635903,37,"navigationview:true,dynamicdashboard:true},[\"widget.dynamicdashboard\"],0,[Poise.view,\"DynamicDashbo",636030,33,650326,156," dynamic-op-list\",title:\"Workstations\",scrollToTopOnRefresh:false",634170,79,"itemTpl:['<div class=\"dynamic dynamic-item",650612,150,650843,433,"Operators",632079,77,"dynamicOpView",651404,50,631168,147,651664,370,"op",652033,61,"op",652109,57,"op",442960,38,"navigationview:true,dynamicopview:true},[\"widget.dynamicopview\"],0,[Poise.view,\"Dynamic",666779,48,"DynamicWorkstationMac",650349,133," dynamic-mac-list\",title:\"Workstations\",scrollToTopOnRefresh:false",634170,79,"itemTpl:['<div class=\"dynamic dynamic-item {mac_",650614,201,650897,52,"ac_",650948,49,"mac_",630816,51,"dynamic_workstation_mac_",634383,52,"list:true,dynamic_workstation_mac",651149,41,"mac",651189,41,"Mac",651230,46,"Machines",632079,77,"dynamicMacView",651404,50,631168,147,651664,370,"ma",652032,39,"mac_list\"}]}]}},0,[\"dynamicma",652108,58,"mac",442960,38,"navigationview:true,dynamicmacview:true},[\"widget.dynamicmacview\"],0,[Poise.view,\"DynamicMachinesView",640976,35,"DynamicHome",635325,51,"itemId:\"dynamicHome",651364,42,645481,117,651439,78,"dynamicdashboard\",title:\"Dashboard\",tab:{cls:\"no-icon\"}},{xtype:\"dynamicopview\",title:\"Operators\",tab:{cls:\"no-icon\"}},{xtype:\"dynamicmacview\",title:\"Machines\",tab:{cls:\"no-icon\"}}]}},0,[\"dynamic",652590,44,"dynamichome",302400,35,"abpanel:true,dynamichome:true},[\"widget.dynamichome\"],0,[Poise.view,\"DynamicHo",653808,32,652376,199,"home",652580,7042,"Poise.util.Config.currentDateTim",659728,4889,"Viewport",440365,37,"\"Loading data...\"});",664613,82,"Ext.each(e,function(g,f){if(g.values.length==0){}});b.renderChartData(e);Ext.Viewport.setMasked(fals",664713,307,"Average</th>\",\"<th>Max</th>\",\"<th>Min",665066,53,"average}</td>\",\"<td>{max}</td>\",\"<td>{min}",668173,35,665263,235,"Machine",666215,119,"print",664927,93,"Mac ID</th>\",\"<th>Name</th>\",\"<th>Attachment</th>\",\"<th>Availability</th>\",'<th style=\"width: 20%\">Actions</th>',\"</thead>\",'<tpl for=\"machines\">',\"<tr>\",\"<td>{mac_id}</td>\",\"<td>{name}</td>\",'<td>{[values.attachment ? values.attachment : \"<i>Not Available</i>\"]}</td>',\"<td>{available_units}",667696,35,"div style=\"margin: 0.3em 0.2em;\">','<div class=\"duration\"><input type=\"text\" value=\"1\" placeholder=\"HH\" /></div>','<div data-avl=\"{available_units}\" data-mac-id=\"{id}\" data-state=\"{parent.state}\" data-ws-id=\"{parent.",668008,120,"parent.state}\">Allocate</span>',\"</div>\"",668162,35,668299,42,"c){var b=this;",668344,97,"n,j){var g=n.getTarget(\"div.x-button\");if(g){var f=g.previousSibling.childNodes[0].value;var h=g.getAttribute(\"data-mac-id\");var m=g.getAttribute(\"data-ws-id\");var l=g.getAttribute(\"data-state\");var k=g.getAttribute(\"data-avl\");if(l!=\"yellow\"){if(parseInt(k)<=0){Ext.Msg.alert(\"Deviation\",\"No new machine available for allocation\");return false}if(f!=\"\"&&b.isInt(f)&&parseInt(f)<=8&&parseInt(f)>0){a.createMacDeviation(m,h,f",668704,34,"Enter valid no of hours to deviate\");return false}",668705,49,"has already been allocated a new machine\")}}}})},isInt:function(b){var a=/^-?[0-9]+$/;return a.test(b",613980,32,572432,32,"},0,0,[Poise.view,\"MachineView",640976,35,"Workstation",666215,119,"briefcase",664927,93,"Section</th>\",\"<th>Operation</th>\",\"<th>Machine</th>\",\"</thead>\",'<tpl for=\"workstation\">',\"<tr>\",\"<td>{section_name}</td>\",\"<td>{operation_name}</td>\",\"<td>{machine_name}</td",616586,116,"view,\"Workst",587103,33,665487,164,"w",665710,47,"erator",665710,46,665705,501,"WSDetailsMacPanel",652778,38,"wsDetailsMacPanel",652831,44,633147,39,"Id:\"w",665710,45,"machine",665710,32,655200,49,665842,92,"MacBack\"}]}]}},0,[\"ws_details_mac",645135,43,"formpanel\",\"ws_details_mac",643040,51,"formpanel:true,ws_details_mac",666101,33,"mac",666133,33,"Mac",644622,40,666827,85,"tpl exec=\"values.parent = parent;\"></tpl",666907,238,"'<th style=\"width: 15%\">Operation</th>',\"<th>Recent Output (Last 8 hours)</th>\",\"<th>Operator(s)</th>\",'<th style=\"width: 15",667236,52,"pl exec=\"values.parent = parent;\"></tpl",667282,196,"utput\">','<tpl if=\"average &gt; 60 || averag",667781,43,"<i>Avg: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{average}</span></span>',\"</tpl>\",'<tpl if=\"averag",667863,43,"<i>Avg: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{average}</span></span>',\"</tpl>\",'<tpl if=\"max &gt; 60 || max",667782,42,"<i>Max: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{max}</span></span>',\"</tpl>\",'<tpl if=\"max",667864,42,"<i>Max: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{max}</span></span>',\"</tpl>\",'<tpl if=\"min &gt; 60 || min",667782,42,"<i>Min: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{min}</span></span>',\"</tpl>\",'<tpl if=\"min",667864,42,"<i>Min: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{min}</span>",667913,35,667440,94,"<i class=\"fa fa-square\"></i> {[values.name ? values.name : \"<i>Not Assigned</i>",667567,50,"<i class=\"fa fa-square\"></i> ",667617,46,"<i>Not Assigned</i>",667665,76,"perator\">','<div style=\"margin: 0.3em 0.2em;\">','<div class=\"duration\"><input type=\"text\" value=\"1\" placeholder=\"HH\" /></div>','<div data-operator=\"{id}\" data-old-ws=\"{[parent.old_ws_id]}\" data-state=\"{[parent.state]}\" data-new-ws=\"{parent.",668008,127,668138,37,"div>\",\"</tpl",668169,172,"c){var b=this;",668344,97,"n,k){var j=n.getTarget(\"div.x-button\");if(j){var f=j.previousSibling.childNodes[0].value;var h=j",668565,33,"m=j",668601,33,"g=j.getAttribute(\"data-operator\");var l=j.getAttribute(\"data-state\");if(g==\"\"){Ext.Msg.alert(\"Deviation\",\"No operator found for this deviation. Please assign someone else.\");return false}if(l!=\"yellow\"){if(f!=\"\"&&b.isInt(f)&&parseInt(f)<=8&&parseInt(f)>0){a.createDeviation(h,m,g,f",668704,34,"Enter valid no of hours to deviate.\");return false}",668705,88,",isInt:function(b){var a=/^-?[0-9]+$/;return a.test(b",668791,194,666201,275,"th>Attendance Today</th>\",\"<th>Skill Level",666467,74,"<span>{name}</span></td>\",'<td><span class=\"{name_class}\"><i class=\"fa fa-square\"></i> {[values.name_class == \"red-item\" ? \"Absent\" : \"Present\"]}</span></td>','<td><span class=\"{skill_class}\"><i class=\"fa fa-square\"></i> {skill}</span>",665228,35,666586,42,"4",666629,198,"DynamicDBCont",616408,75,"'<tpl if=\"work_stations.length &gt; 0\" >','<div class=\"db-table-header\"><i class=\"fa fa-tag\"></i> {section_name}</div>','<tpl for=\"work_stations\">','<div class=\"ws-wrapper\">','<div class=\"ws-header\">',\"<span>{[xindex]}. {operation}</span>\",\"</div>\",'<div class=\"ws-body\">','<div data-ws=\"{ws_id}\" data-sec=\"{section}\" data-mac=\"{machine}\" data-op=\"{operation}\" data-state=\"{op_class}\" class=\"op {op_class}",650815,36,"</div>','<div data-ws=\"{ws_id}\" data-sec=\"{section}\" data-mac=\"{machine}\" data-op=\"{operation}\" data-state=\"{mac_class}\" class=\"mac {mac_class}",630638,36,"</div>',\"</div>\",\"</div>\",\"</tpl>\",\"</tpl",668307,34,"c){var b=this;",668344,97,"n,h){var g=n.getTarget(\"div.op\");var m=n.getTarget(\"div.mac\");if(g){var l=g.getAttribute(\"data-ws\");var o=g.getAttribute(\"data-sec\");var k=g.getAttribute(\"data-op\");var j=g.getAttribute(\"data-mac\");var f=g.getAttribute(\"data-state\");a.showWSDetailsForDB({id:l,state:f,section_name:o,operation_name:k,machine_name:j})}else{if(m){var l=m.getAttribute(\"data-ws\");var o=m.getAttribute(\"data-sec\");var k=m.getAttribute(\"data-op\");var j=m.getAttribute(\"data-mac\");var f=m.getAttribute(\"data-state\");a.showWSMacDetailsForDB({id:l,mac_state:f,section_name:o,operation_name:k,machine_name:j})}}}}",613980,32,572432,32,"},0,0,[Poise.view,\"DynamicDBContent",657679,41,668996,61,"OperatorsView\",\"DynamicMachinesView\",\"DynamicDashboard\",\"DynamicWorkstationList\",\"DynamicWorkstationMacList\",\"WSDetailsPanel\",\"WSDetailsMac",669098,50,",\"MachineView\",\"WorkstationView\",\"DynamicDBContent",669147,63,"opListView:\"dynamicopview dynamic_workstation_list\",macListView:\"dynamicmacview dynamic_workstation_mac_list\",dynamicOpRefreshButton:\"dynamicop",669275,35,"op-list]\",dynamicMacRefreshButton:\"dynamicma",669274,36,"mac-list]\",dynamicDBRefreshButton:\"dynamicdashboard button[action=refresh-dynamic-dashboard",669314,42,"dynamicMacBackButton:\"button#dynamicMa",669349,52,"OpRefreshButton:{tap:\"refreshOpWorkstationList\"},dynamicMacRefreshButton:{tap:\"refreshMacWorkstationList\"},dynamicDBRefreshButton:{tap:\"loadDynamicDashboard\"},opListView:{itemtap:\"onOpItemTapAction\"},macListView:{itemtap:\"onMac",669467,62,"dynamicMa",669489,33,"Ma",669521,75,"c,f,b,a){Ext.Viewport",440365,37,"\"Loading data...\"});var e",670589,88,669696,34,"c+\"&new_ws_id=\"+f+\"&operator_id=\"+b+\"&hours=\"+a",669747,32,"j){Ext.Msg.alert(\"Deviation\",\"Operator Deviation created for \"+a+\" hour(s)\");var l=Ext.JSON.decode(j.responseText);var k",669888,35,"OpView\")[0].pop();var m",669888,35,"Dashboard\")[0].pop();var h",670175,41,"g=localStorage.getItem(\"obId\");h",639710,37,"g},callback:function(){e.loadDynamicDashboard();Ext.Viewport.setMasked(false)}})}})},createMacDeviation:function(e,c,a){Ext.Viewport",440365,37,"\"Loading data...\"});",670584,93,"create_mac_deviation.json?ws_id=\"+e+\"&mac_id=\"+c+\"&hours=\"+a",669747,62,"New machine allocated for \"+a+\" hour(s)",669842,81,"MacView\")[0].pop();var l",669888,35,"Dashboard",669927,150,"b.loadDynamicDashboard();Ext.Viewport.setMasked(false)}})}})},refreshOp",670138,165,"op",670304,53,"refreshMac",670138,165,"mac",670304,33,"mac_list\").setStore(b)},onOp",670359,66,"onMac",670359,47,"Mac",670406,107,"OpView\").push(a);this.addWSDetailsToView(a,[b]",670526,33,"showWSMac",670431,60,"MacPanel\");c.up(\"#dynamicMacView\").push(a);this.addWSDetailsToView(a,[b]);this.loadMacData(b.id,a,b.mac_state)},showWSDetailsForDB:function(",670450,49,669889,34,"Dashboard\")[0].push(a);this.addWSDetailsToView(a,[b]",670526,33,"showWSMacDetailsForDB:function(",670450,41,"MacPanel\");",669889,34,"Dashboard\")[0].push(a);this.addWSDetailsToView(a,[b]);this.loadMacData(b.id,a,b.mac_",670551,33,"Ext.Viewport",440365,37,"\"Loading data...\"});",670584,264,";Ext.Viewport.setMasked(false)}})},loadMacData:function(e,a,c){Ext.Viewport",440365,37,"\"Loading data...\"});",670584,96,"mac",670679,58,"h",660928,33,"var g=Ext.create(\"Poise.view.MachineView\",{data:[{ws_id:e,state:c,title:\"Machine Availability\",machines:h.machines}]});a.down(\"#machinesTable\").add(g);Ext.Viewport.setMasked(false",670847,42,"if(b.up(\"#dynamicOpView\")!=undefined){b.up(\"#dynamicOpView\").pop()}else{if(b.up(\"#dynamicDashboard\")!=undefined){b.up(\"#dynamicDashboard\").pop()}}},goBackToDynamicMacView:function(b,c,a){if(b.up(\"#dynamicMacView\")!=undefined){b.up(\"#dynamicMacView\").pop()}else{if(b.up(\"#dynamicDashboard\")!=undefined){b.up(\"#dynamicDashboard\").pop()}}},addWSDetail",670928,51,"WorkstationView\",{data:[{title:\"Workstation Details\",workstation:c}]});a.down(\"#wsTable\").add(b",670914,269," (Last 8 hours)",671184,91,"Ext.each(e.options,function(g){g.state=c;g.old_ws_id=f});",671275,163,",loadDynamicDashboard:function(){Ext.Viewport",440365,37,"\"Loading data...\"});var c=this;var b",639599,36,"Ext.ComponentQuery.query(\"#dbPanel\")[0]",669613,83,"ws_db_list.json?ob_id=\"+b,success:function(e){var g=Ext.JSON.decode(e.responseText);var f=Ext.create(\"Poise.view.DynamicDBContent\",{data:g});a.removeAll();a.add(f);Ext.Viewport.setMasked(fals",664713,39,671471,2131,"List",673606,263,"panel\",layout:\"vbox\",itemId:\"togglePanel\"},",655852,43,674017,82,"},updateRecord:function(a){if(a==null||a.get(\"operators_attendance\")===undefined){return}var c=this;var e=c.down(\"#togglePanel\");if(e.getInnerItems().length>0){return}var b=a.get(\"operator_name\").split(\", \").map(function(f){return\"<div style='margin: 1em 0'><span class='icon-custom'>U</span> \"+f+\"</div>\"}).join(\"\");c",674216,93,"c",674310,89,"c.down(\"#operatorCmp\").setHtml(b);c",674492,46,"c.addToggleFields(a.get(\"operators_attendance\"),a.get(\"attendance_today\"),e);Ext.dataview.component.List",674680,51,"addToggleFields:function(b,a,e){var c=this;if(b.length>0){Ext.each(b,function(f){e.add({xtype:\"togglefield",673898,41,"value:f[1],name:f[0]",673938,34,",listeners:{change:function(j,h,g){if(j.up(\"attendancelistitem\")!=undefined){",669614,64,674828,57,"j",674886,60,"workstation_operator_id:j.getName(),logged_at:Ext.ComponentQuery.query(\"#attendanceView\")[0]",674979,40,"j",675020,102,"}})})}else{e.add({xtype:\"togglefield",673898,41,"value:a",673938,34,",listeners:{change:function(h,g,f){if(h.up(\"attendancelistitem\")!=undefined){",669614,64,674828,57,"h",674886,60,"workstation_operator_id:0,logged_at:Ext.ComponentQuery.query(\"#attendanceView\")[0]",674979,40,"h",675020,102,"}})}",675120,65,"list",675178,73,"list",675241,239,",\"DynamicHome",669147,35,675514,76,",\"ReportTime",675589,858]