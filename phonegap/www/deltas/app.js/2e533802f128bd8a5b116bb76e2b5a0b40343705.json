["function _22899a55b7e46dd14582f0163c553caa3c3bfefd",50,614604,"ec2-52-36-209-187.us-west-2.compute.amazonaws.com:8080/",221040,33,614702,279,"Time:function(){return Ext.Date.format(new Date(),\"Y-m-d",614960,14501,"ws_",629438,320,"ac_",629728,52,",{name:\"mac_messag",629625,33,"s_attendance",654222,32,"Workstation",636672,36,"ReportTime",629871,79,"data:[{id:\"09:00:00\"},{id:\"10:00:00\"},{id:\"11:00:00\"},{id:\"12:00:00\"},{id:\"13:30:00\"},{id:\"14:30:00\"},{id:\"15:30:00\"},{id:\"16:30:00\"}]",630105,62,648800,35,630206,1040,631495,2516,648863,36,648907,62,634091,172,"dynamic-list ",634263,70,"list",634330,65,"list",634389,220,"cls:\"attendance-v",633102,40,631148,127,631541,177,"currentDate",632720,46,635005,1340,"model.Section",653744,80,"line_id\",type:\"int\"},{name:\"name\",type:\"string\"},{name:\"enabled\",type:\"boolean",654222,32,"Section",636672,36,"Sec",636715,50,"Section\",storeId:\"Section",657004,68,"sec",636960,56,"section\"}}}},0,0,0,0,[\"store.sections\"],0,[Poise.store,\"Sec",637088,41,636351,450,"remoteSort:true",636800,36,"'<i class=\"fa fa-tag\"></i> Section: '+a.get(\"section_name\")}}",657006,66,636952,284,"remoteSort:true",636800,36,"'<i class=\"fa fa-tag\"></i> Section: '+a.get(\"section_name\")}}",657006,66,637387,1485,"k,j,g){Ext.Viewport",440365,37,"\"Loading data...\"});var b",638884,34,"f",669182,41,"h=Ext.getStore(\"Sections\"",662644,37,"var a=localStorage.getItem(\"lineId\");b",638992,37,"c},callback:function(){k",639178,66,"b);k",639248,64,"b);k",639316,64,"b)}});f",638992,37,"c},callback:function(){k.up(\"home\").down(\"dynamicop",669542,49,"f);k.up(\"home\").down(\"dynamicmac",669542,33,"mac_list\").setStore(f);Ext.Viewport.setMasked(false)}});h.load({params:{line_id:a},callback:function(){k.up(\"home\").down(\"#outputChart\").down(\"#reportSection\").setStore(h);k.up(\"home\").down",662754,32,"Section\").setStore(h);k.up(\"home\").down(\"#reworkChart\").down(\"#reportSection\").setStore(h)}});this.loadDynamicDashboard(",639381,482,",loadDynamicDashboard:function(",667580,69,"a.loadDynamicDashboard(",639861,5248,"font-weight: bold; padding-top: 0.5em;\",flex:1},{xtype:\"panel\",layout:\"hbox\",flex:2,align:\"center\",items:[",646095,41,"label:\"Date : \",labelWidth:\"auto",631615,51,"cls:\"filters\",align:\"center",631664,70,645296,37,"Section\",displayField:\"name\",label:\"Section : \",labelWidth:\"auto",645358,35,"filters\",align:\"center\"}]",647534,104,"right",645265,32,645515,337,"Sec",645071,38,"font-weight: bold; padding-top: 0.5em;\",flex:1},{xtype:\"panel\",layout:\"hbox\",flex:2,items:[",646095,41,"label:\"Date : \",labelWidth:\"auto",631615,51,"cls:\"filters\",flex:1",646240,69,"}]",647534,104,"right",646054,40,"]},",662362,35,646379,338,"font-weight: bold; padding-top: 0.5em;\",flex:1},{xtype:\"panel\",layout:\"hbox\",flex:2,align:\"center\",items:[",646095,41,"label:\"Date : \",labelWidth:\"auto",631615,51,"cls:\"filters\",align:\"center",631664,70,645296,37,"Section\",displayField:\"name\",label:\"Section : \",labelWidth:\"auto",645358,35,"filters\",align:\"center\"}]",647534,104,"right",646873,34,647125,363,"font-weight: bold; padding-top: 0.5em;\",flex:1},{xtype:\"panel\",layout:\"hbox\",flex:2,align:\"center\",items:[",646095,41,"label:\"Date : \",labelWidth:\"auto",631615,51,"cls:\"filters\",align:\"center",631664,70,645296,37,"Section\",displayField:\"name\",label:\"Section : \",labelWidth:\"auto",645358,35,"filters\",align:\"center\"}]",647534,104,"right",647644,32,647894,330,"Month",647455,33,"font-weight: bold; padding-top: 0.5em",645935,113,"right",648417,36,648566,276,"Dashboard",633022,65,"scrollable:true,itemId:\"dynamicDashboard\"",635387,34,"items:[{xtype:\"panel\",scrollable:true",637662,32,631165,110,650168,370,"dashboard\"}]",664955,38,"dbPanel\",margin:10}]}]}},0,[\"dynamicdashbo",635808,32,"navigationview\",\"dynamicdashboard",302400,34,"navigationview:true,dynamicdashboard:true},[\"widget.dynamicdashboard\"],0,[Poise.view,\"DynamicDashboard",648800,186," dynamic-op-list\",title:\"Workstations\",scrollToTopOnRefresh:false",649008,109,"dynamic-item",649116,150,649347,433,"Operators",631022,78,"ynamicOpView\"",635387,34,632128,35,631148,127,650168,370,"op",650537,61,"op",632799,50,"dynamicop",442960,38,"navigationview:true,dynamicopview:true},[\"widget.dynamicopview\"],0,[Poise.view,\"DynamicOperators",633952,39,"DynamicWorkstationMac",630217,46,648899,87," dynamic-mac-list\",title:\"Workstations\",scrollToTopOnRefresh:false",649008,109,"dynamic-item {mac_",649118,201,649401,52,"ac_",649452,49,"mac",649500,72,"mac_lis",611679,35,649610,44,"mac",649653,41,"mac",649693,41,"Mac",630975,40,"ynamicMachines",631022,78,"ynamicMacView\"",635387,34,632128,35,631148,127,650168,370,"ma",650536,39,"mac_list\"}]}]}},0,[\"dynamicmac",632799,50,"dynamicmac",442960,38,"navigationview:true,dynamicmacview:true},[\"widget.dynamicmacview\"],0,[Poise.view,\"DynamicMachines",633952,39,"DynamicHome",644454,45,"100%\",itemId:\"dynamicHome",649868,42,635371,149,649975,46,"dynamicdashboard\",title:\"Dashboard\",tab:{cls:\"no-icon\"}},{xtype:\"dynamicopview\",title:\"Operators\",tab:{cls:\"no-icon\"}},{xtype:\"dynamicmacview\",title:\"Machines\",tab:{cls:\"no-icon\"}}]}},0,[\"dynamichome",648638,40,"dynamichome",648688,48,"dynamichome:true},[\"widget.dynamichome\"],0,[Poise.view,\"Dynamic",651232,39,650885,194,"home",651084,187,652687,108,"cls:\"log-form",652793,105,"cls:\"loggedAt",652896,1780,"cls:\"log-form",652793,83,"Output\",margin:\"10\",cls:\"loggedAt",652896,143,654918,772,"cls:\"log-form",652793,83,"Rework\",margin:\"10\",cls:\"loggedAt",652896,143,655932,3520,"Poise.util.Config.currentDateTim",659911,126,659684,1932,"downtimeSection:\"panel[name=downtime_container] #reportSection\",reworkSection:\"panel[name=rework_container] #reportSection\",outputSection:\"panel[name=output_container] #reportSection",661614,266,"downtimeSection:{change:\"refreshDowntimeChart\"},reworkSection:{change:\"refreshReworkChart\"},outputSection:{change",661857,947,"section",662749,37,"Section",663242,83,662873,41,"+\"&report_section=\"+section",662914,117,"section",662978,35,"Section",663242,83,663100,39,"+\"&report_section=\"+section",663139,117,"section",663203,35,"Section",663242,122,"+\"&report_section=\"+section",663364,491,"Viewport",440365,37,"\"Loading data...\"});",663851,82,"Ext.each(e,function(g,f){if(g.values.length==0){}});b.renderChartData(e);Ext.Viewport.setMasked(fals",663951,307,"Average</th>\",\"<th>Max</th>\",\"<th>Min",664304,53,"average}</td>\",\"<td>{max}</td>\",\"<td>{min",665788,36,"utput",667451,35,664541,195,"Machine",665453,119,"print",665576,93,"Mac ID</th>\",\"<th>Name</th>\",\"<th>Attachment</th>\",\"<th>Availability</th>\",'<th style=\"width: 20%\">Actions</th>',\"</thead>\",'<tpl for=\"machines\">',\"<tr>\",\"<td>{mac_id}</td>\",\"<td>{name}</td>\",'<td>{[values.attachment ? values.attachment : \"<i>Not Available</i>\"]}</td>',\"<td>{available_units",666670,36,"div style=\"margin: 0.3em 0.2em;\">','<div class=\"duration\"><input type=\"text\" value=\"1\" placeholder=\"HH\" /></div>','<div data-avl=\"{available_units}\" data-mac-id=\"{id}\" data-state=\"{parent.state}\" data-ws-id=\"{parent.",667246,120,"parent.state}\">Allocate</span>',\"</div>\"",667400,35,667537,42,"c){var b=this;",667582,97,"n,j){var g=n.getTarget(\"div.x-button\");if(g){var f=g.previousSibling.childNodes[0].value;var h=g.getAttribute(\"data-mac-id\");var m=g.getAttribute(\"data-ws-id\");var l=g.getAttribute(\"data-state\");var k=g.getAttribute(\"data-avl\");if(l!=\"yellow\"){if(parseInt(k)<=0){Ext.Msg.alert(\"Deviation\",\"No new machine available for allocation\");return false}if(f!=\"\"&&b.isInt(f)&&parseInt(f)<=8&&parseInt(f)>0){a.createMacDeviation(m,h,f",667942,34,"Enter valid no of hours to deviate\");return false}",667943,49,"has already been allocated a new machine\")}}}})},isInt:function(b){var a=/^-?[0-9]+$/;return a.test(b",664607,83,"Machine",633952,39,"Workstation",665453,119,"briefcase",665576,93,"Section</th>\",\"<th>Operation</th>\",\"<th>Machine</th>\",\"</thead>\",'<tpl for=\"workstation\">',\"<tr>\",\"<td>{section_name}</td>\",\"<td>{operation_name}</td>\",\"<td>{machine_name}</td",616546,116,"view,\"Workst",587103,33,664725,164,"w",664999,32,664876,568,"WSDetailsMac",664745,52,"Mac",664797,92,"w",664999,32,"fit\",itemId:\"machine",664999,173,"MacBack\"}]}]}},0,[\"ws_details_mac",665198,66,"mac",665263,77,"mac",665339,33,"mac",665371,33,"Mac",641534,41,"ption",665452,79,"tpl exec=\"values.parent = parent;\"></tpl",666145,238,"'<th style=\"width: 15%\">Operation</th>',\"<th>Recent Output (Last 8 hours)</th>\",\"<th>Operator(s)</th>\",'<th style=\"width: 15",666474,52,"pl exec=\"values.parent = parent;\"></tpl",666520,196,"utput\">','<tpl if=\"average &gt; 60 || averag",667019,43,"<i>Avg: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{average}</span></span>',\"</tpl>\",'<tpl if=\"averag",667101,43,"<i>Avg: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{average}</span></span>',\"</tpl>\",'<tpl if=\"max &gt; 60 || max",667020,42,"<i>Max: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{max}</span></span>',\"</tpl>\",'<tpl if=\"max",667102,42,"<i>Max: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{max}</span></span>',\"</tpl>\",'<tpl if=\"min &gt; 60 || min",667020,42,"<i>Min: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{min}</span></span>',\"</tpl>\",'<tpl if=\"min",667102,42,"<i>Min: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{min}</span>",667151,35,666941,38,666716,56,"<i class=\"fa fa-square\"></i> {[values.name ? values.name : \"<i>Not Assigned</i>",666805,50,"<i class=\"fa fa-square\"></i> ",666855,46,"<i>Not Assigned</i>",666903,76,"perator\">','<div style=\"margin: 0.3em 0.2em;\">','<div class=\"duration\"><input type=\"text\" value=\"1\" placeholder=\"HH\" /></div>','<div data-operator=\"{id}\" data-old-ws=\"{[parent.old_ws_id]}\" data-state=\"{[parent.state]}\" data-new-ws=\"{parent.",667246,127,667376,37,"div>\",\"</tpl",667407,172,"c){var b=this;",667582,97,"n,k){var j=n.getTarget(\"div.x-button\");if(j){var f=j.previousSibling.childNodes[0].value;var h=j",667803,33,"m=j",667839,33,"g=j.getAttribute(\"data-operator\");var l=j.getAttribute(\"data-state\");if(g==\"\"){Ext.Msg.alert(\"Deviation\",\"No operator found for this deviation. Please assign someone else.\");return false}if(l!=\"yellow\"){if(f!=\"\"&&b.isInt(f)&&parseInt(f)<=8&&parseInt(f)>0){a.createDeviation(h,m,g,f",667942,34,"Enter valid no of hours to deviate.\");return false}",667943,88,",isInt:function(b){var a=/^-?[0-9]+$/;return a.test(b",668029,194,665439,275,"th>Attendance Today</th>\",\"<th>Skill Level",665705,74,"<span>{name}</span></td>\",'<td><span class=\"{name_class}\"><i class=\"fa fa-square\"></i> {[values.name_class == \"red-item\" ? \"Absent\" : \"Present\"]}</span></td>','<td><span class=\"{skill_class}\"><i class=\"fa fa-square\"></i> {skill}</span>",664466,35,665824,42,"4",665867,198,"DynamicDBCont",616368,75,"'<tpl if=\"work_stations.length &gt; 0\" >','<div class=\"db-table-header\"><i class=\"fa fa-tag\"></i> {section_name}</div>','<tpl for=\"work_stations\">','<div class=\"ws-wrapper\">','<div class=\"ws-header\">',\"<span>{[xindex]}. {operation}</span>\",\"</div>\",'<div class=\"ws-body\">','<div data-ws=\"{ws_id}\" data-sec=\"{section}\" data-mac=\"{machine}\" data-op=\"{operation}\" data-state=\"{op_class}\" class=\"op {op_class}",630683,36,"</div>','<div data-ws=\"{ws_id}\" data-sec=\"{section}\" data-mac=\"{machine}\" data-op=\"{operation}\" data-state=\"{mac_class}\" class=\"mac {mac_class}",630598,36,"</div>',\"</div>\",\"</div>\",\"</tpl>\",\"</tpl",667545,34,"c){var b=this;",667582,97,"n,h){var g=n.getTarget(\"div.op\");var m=n.getTarget(\"div.mac\");if(g){var l=g.getAttribute(\"data-ws\");var o=g.getAttribute(\"data-sec\");var k=g.getAttribute(\"data-op\");var j=g.getAttribute(\"data-mac\");var f=g.getAttribute(\"data-state\");a.showWSDetailsForDB({id:l,state:f,section_name:o,operation_name:k,machine_name:j})}else{if(m){var l=m.getAttribute(\"data-ws\");var o=m.getAttribute(\"data-sec\");var k=m.getAttribute(\"data-op\");var j=m.getAttribute(\"data-mac\");var f=m.getAttribute(\"data-state\");a.showWSMacDetailsForDB({id:l,mac_state:f,section_name:o,operation_name:k,machine_name:j})}}}}",664607,83,"DynamicDBContent",661033,41,668234,61,"OperatorsView\",\"DynamicMachinesView\",\"DynamicDashboard\",\"DynamicWorkstationList\",\"DynamicWorkstationMacList\",\"WSDetailsPanel\",\"WSDetailsMac",668336,50,",\"MachineView\",\"WorkstationView\",\"DynamicDBContent",673301,35,"DynamicWorkstations\"],refs:{opListView:\"dynamicopview dynamic_workstation_list\",macListView:\"dynamicmacview dynamic_workstation_mac_list\",dynamicOpRefreshButton:\"dynamicop",668513,35,"op-list]\",dynamicMacRefreshButton:\"dynamicma",668512,36,"mac-list]\",dynamicDBRefreshButton:\"dynamicdashboard button[action=refresh-dynamic-dashboard",668552,42,"dynamicMacBackButton:\"button#dynamicMa",668587,52,"OpRefreshButton:{tap:\"refreshOpWorkstationList\"},dynamicMacRefreshButton:{tap:\"refreshMacWorkstationList\"},dynamicDBRefreshButton:{tap:\"loadDynamicDashboard\"},opListView:{itemtap:\"onOpItemTapAction\"},macListView:{itemtap:\"onMac",668705,62,"dynamicMa",668727,33,"Ma",668759,75,"c,f,b,a){Ext.Viewport",440365,37,"\"Loading data...\"});var e",668846,122,"c+\"&new_ws_id=\"+f+\"&operator_id=\"+b+\"&hours=\"+a",668985,32,"j){Ext.Msg.alert(\"Deviation\",\"Operator Deviation created for \"+a+\" hour(s)\");var l=Ext.JSON.decode(j.responseText);var k",669126,35,"OpView\")[0].pop();var m",669126,35,"Dashboard\")[0].pop();var h",669182,41,"g=localStorage.getItem(\"obId\");h",638992,37,"g},callback:function(){e.loadDynamicDashboard();Ext.Viewport.setMasked(false)}})}})},createMacDeviation:function(e,c,a){Ext.Viewport",440365,37,"\"Loading data...\"});",669822,93,"create_mac_deviation.json?ws_id=\"+e+\"&mac_id=\"+c+\"&hours=\"+a",668985,62,"New machine allocated for \"+a+\" hour(s)",669080,81,"MacView\")[0].pop();var l",669126,35,"Dashboard",669165,150,"b.loadDynamicDashboard();Ext.Viewport.setMasked(false)}})}})},refreshOp",669376,165,"op",669542,53,"refreshMac",669376,165,"mac",669542,33,"mac_list\").setStore(b)},onOp",669597,66,"onMac",669597,47,"Mac",669644,107,"OpView\").push(a);this.addWSDetailsToView(a,[b]",669764,33,"showWSMac",669669,60,"MacPanel\");c.up(\"#dynamicMacView\").push(a);this.addWSDetailsToView(a,[b]);this.loadMacData(b.id,a,b.mac_state)},showWSDetailsForDB:function(",669688,49,669127,34,"Dashboard\")[0].push(a);this.addWSDetailsToView(a,[b]",669764,33,"showWSMacDetailsForDB:function(",669688,41,"MacPanel\");",669127,34,"Dashboard\")[0].push(a);this.addWSDetailsToView(a,[b]);this.loadMacData(b.id,a,b.mac_",669789,33,"Ext.Viewport",440365,37,"\"Loading data...\"});",669822,264,";Ext.Viewport.setMasked(false)}})},loadMacData:function(e,a,c){Ext.Viewport",440365,37,"\"Loading data...\"});",669822,96,"mac",669917,58,"h",669976,33,"var g=Ext.create(\"Poise.view.MachineView\",{data:[{ws_id:e,state:c,title:\"Machine Availability\",machines:h.machines}]});a.down(\"#machinesTable\").add(g);Ext.Viewport.setMasked(false",670085,42,"if(b.up(\"#dynamicOpView\")!=undefined){b.up(\"#dynamicOpView\").pop()}else{if(b.up(\"#dynamicDashboard\")!=undefined){b.up(\"#dynamicDashboard\").pop()}}},goBackToDynamicMacView:function(b,c,a){if(b.up(\"#dynamicMacView\")!=undefined){b.up(\"#dynamicMacView\").pop()}else{if(b.up(\"#dynamicDashboard\")!=undefined){b.up(\"#dynamicDashboard\").pop()}}},addWSDetail",670329,51,"WorkstationView\",{data:[{title:\"Workstation Details\",workstation:c}]});a.down(\"#wsTable\").add(b",670152,269," (Last 8 hours)",670422,91,"Ext.each(e.options,function(g){g.state=c;g.old_ws_id=f});",670513,163,",loadDynamicDashboard:function(){Ext.Viewport",440365,37,"\"Loading data...\"});var c=this",638955,36,"var a=Ext.ComponentQuery.query(\"#dbPanel\")[0];",660624,64,"dynamic_balancing/ws_db_list.json?ob_id=\"+b,success:function(e){var g=Ext.JSON.decode(e.responseText);var f=Ext.create(\"Poise.view.DynamicDBContent\",{data:g});a.removeAll();a.add(f);Ext.Viewport.setMasked(fals",663951,39,670709,672,651271,1417,671382,42,"List",671428,263,"panel\",layout:\"vbox\",itemId:\"togglePanel\"},",654683,43,671839,82,"},updateRecord:function(a){if(a==null||a.get(\"operators_attendance\")===undefined){return}var c=this;var e=c.down(\"#togglePanel\");if(e.getInnerItems().length>0){return}var b=a.get(\"operator_name\").split(\", \").map(function(f){return\"<div style='margin: 1em 0'><span class='icon-custom'>U</span> \"+f+\"</div>\"}).join(\"\");c",672038,93,"c",672132,89,"c.down(\"#operatorCmp\").setHtml(b);c",672314,46,"c.addToggleFields(a.get(\"operators_attendance\"),a.get(\"attendance_today\"),a.get(\"id\"),e);Ext.dataview.component.List",672502,51,"addToggleFields:function(c,k,e,f){var g=this;if(c.length>0){Ext.each(c,function(p){var o=(JSON.parse(p[1])?1:0);var m=p[0];var n=(JSON.parse(p[1])?\"toggle-button-selected\":\"\");var l=Ext.create(\"Ext.Panel\",{html:'<div data-ws=\"'+e+'\" data-status=\"'+o+'\" data-op=\"'+m+'\" class=\"toggle-panel toggle-button '+n+'\"><button></button></div>'});f.add(l)})}else{var h=(k?1:0);var j=0;var a=(k?\"toggle-button-selected\":\"\");var b=Ext.create(\"Ext.Panel\",{html:'<div data-ws=\"'+e+'\" data-status=\"'+h+'\" data-op=\"'+j+'\" class=\"toggle-panel toggle-button '+a+'\"><button></button></div>'});f.add(b)}",535806,34,";",667582,97,"j,h){var g=j.getTarget(\"div.toggle-button\");if(g){Ext.get(g).toggleCls(\"toggle-button-selected\");var k=g.getAttribute(\"data-ws\");var f=g.getAttribute(\"data-op\");var c=(g.getAttribute(\"data-status\")==0?1:0);g.setAttribute(\"data-status\",c);",660624,64,672650,57,"k,workstation_operator_id:f,logged_at:Ext.ComponentQuery.query(\"#attendanceView\")[0]",672801,40,"c",672853,91,672940,67,"list",673000,73,"list",673063,239,",\"DynamicHome",673301,80,"Sections\",\"ObStore\",\"ChartData\",\"ReportTime",673400,645,"Home",674049,209]