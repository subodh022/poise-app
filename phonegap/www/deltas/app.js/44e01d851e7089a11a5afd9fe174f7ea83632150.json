["function _725741f0c885742e0887505df9ffffd79a22c7e2",50,629718,"state\",type:\"string\"},{name:\"mac_state\",type:\"string\"},{name:\"message\",type:\"string\"},{name:\"mac_messag",629665,33,"s_attendance",653520,32,"Workstation",630768,36,"ReportTime",630809,40,632158,39,"data:[{id:\"09:00:00\"},{id:\"10:00:00\"},{id:\"11:00:00\"},{id:\"12:00:00\"},{id:\"13:30:00\"},{id:\"14:30:00\"},{id:\"15:30:00\"},{id:\"16:30:00\"}]",632352,62,649328,35,649370,57,632510,233,"og-",632906,40,632782,44,"og-",632906,40,649792,42,"og-",632906,3340,649391,36,632510,62,636326,172,"dynamic-list ",636498,70,"list",636565,65,"list",636624,220,"cls:\"attendance-v",633343,167,633776,177,637183,1075,630798,322,"model.Sec",629417,84,"line_id\",type:\"int\"},{name:\"name\",type:\"string\"},{name:\"enabled\",type:\"boolean",653520,32,"Section",630768,36,"Section",655630,46,"Section\",storeId:\"Section",656025,68,"sec",630173,56,"section\"}}}},0,0,0,0,[\"store.sections\"],0,[Poise.store,\"Sec",630301,41,631126,357,630349,79,630000,49,"'<i class=\"fa fa-tag\"></i> Section: '+",630485,115,630165,319,"'<i class=\"fa fa-tag\"></i> Section: '+",630485,313,638258,1287,"k,j,g){Ext.Viewport",440365,37,"\"Loading data...\"});var b",639557,34,"f",668256,41,"h=Ext.getStore(\"Sections\"",661665,37,"var a=localStorage.getItem(\"lineId\");b",639708,37,"c},callback:function(){k",639751,66,"b);k",639821,64,"b);k",639889,64,"b)}});f",639708,37,"c},callback:function(){k.up(\"home\").down(\"dynamicop",639983,49,"f);k.up(\"home\").down(\"dynamicmac",639983,33,"mac_list\").setStore(f);Ext.Viewport.setMasked(false)}});h.load({params:{line_id:a},callback:function(){k.up(\"home\").down(\"#outputChart\").down(\"#reportSection\").setStore(h);k.up(\"home\").down(\"#downtimeChart\").down(\"#reportSection\").setStore(h);k.up(\"home\").down(\"#reworkChart\").down(\"#reportSection\").setStore(h)}});this.loadDynamicDashboard(",640033,482,",loadDynamicDashboard:function(",665870,69,"a.loadDynamicDashboard()}},0,[\"ob",655391,53,640576,4897,646894,288,"font-weight: bold; padding-top: 0.5em;\",flex:1},{xtype:\"panel\",layout:\"hbox\",flex:2,align:\"center\",items:[",634800,41,"label:\"Date : \",labelWidth:\"auto",648207,56,"filters\",align:\"center\"",647487,69,637039,37,"Section\",displayField:\"name\",label:\"Section : \",labelWidth:\"auto",647431,35,"filters\",align:\"center\"}]",646524,104,"right",647338,32,647588,337,"Sec",647933,38,"font-weight: bold; padding-top: 0.5em;\",flex:1},{xtype:\"panel\",layout:\"hbox\",flex:2,items:[",634800,41,"label:\"Date : \",labelWidth:\"auto",648207,56,"filters\",flex:1",647487,69,"}]",646524,104,"right",648127,40,648414,80,"downtime",647674,33,645514,255,"font-weight: bold; padding-top: 0.5em;\",flex:1},{xtype:\"panel\",layout:\"hbox\",flex:2,align:\"center\",items:[",634800,41,"label:\"Date : \",labelWidth:\"auto",648207,56,"filters\",align:\"center\"",647487,69,637039,37,"Section\",displayField:\"name\",label:\"Section : \",labelWidth:\"auto",647431,35,"filters\",align:\"center\"}]",646524,104,"right",645925,34,646115,363,"font-weight: bold; padding-top: 0.5em;\",flex:1},{xtype:\"panel\",layout:\"hbox\",flex:2,align:\"center\",items:[",634800,41,"label:\"Date : \",labelWidth:\"auto",648207,56,"filters\",align:\"center\"",647487,69,637039,37,"Section\",displayField:\"name\",label:\"Section : \",labelWidth:\"auto",647431,35,"filters\",align:\"center\"}]",646524,104,"right",646634,32,646822,72,648494,258,"Month",646445,33,"font-weight: bold; padding-top: 0.5em",645806,113,"right",648945,36,649094,276,"Dashboard",633261,65,"scrollable:true,itemId:\"dynamicDashboard\"",645215,34,"items:[{xtype:\"panel\",scrollable:true",638335,32,636896,122,637024,203,650820,155,"dashboard\"}]",666603,38,"dbPanel\",margin:10}]}]}},0,[\"dynamicdashboard",637280,46,"dynamicdashboard",302400,34,"navigationview:true,dynamicdashboard:true},[\"widget.dynamicdashboard\"],0,[Poise.view,\"DynamicDashboard",649328,186," dynamic-op-list\",title:\"Workstations\",scrollToTopOnRefresh:false",649536,109,"dynamic-item {state}-item\"",632893,53,632782,83,"U</span> {operator",649728,36," list-message\"><span class=\"icon-custom\">i</span> {messag",649895,322,"Operators",636751,77,"dynamicOpView\"",645215,34,635342,35,636879,139,637024,203,650820,155,"op",650974,61,"op",634047,51,"ynamicop",442960,38,"navigationview:true,dynamicopview:true},[\"widget.dynamicopview\"],0,[Poise.view,\"Dynamic",664222,48,"DynamicWorkstationMac",632464,46,"dynamic_",632510,62,"cls:\"dynamic-list dynamic-mac-list\",title:\"Workstations\",scrollToTopOnRefresh:false",649536,109,"dynamic-item {mac_state}-item\"",632893,53,632782,136," list-message\"><span class=\"icon-custom\">i</span> {mac_messag",649895,43,"mac_",636524,44,"list\",\"dynamic_workstation_mac_lis",611679,35,650047,44,"mac",650090,41,"mac",650130,41,"Mac",636702,39,"DynamicMachines",636751,77,"dynamicMacView\"",645215,34,635342,35,636879,139,637024,203,650820,155,"ma",650973,39,"mac_list\"}]}]}},0,[\"dynamicmac",634047,51,"ynamicmac",442960,38,"navigationview:true,dynamicmacview:true},[\"widget.dynamicmacview\"],0,[Poise.view,\"DynamicMachines",649324,46,"Home",637520,51,"itemId:\"dynamicHome",650305,42,645199,117,650380,78,"dynamicdashboard\",title:\"Dashboard\",tab:{cls:\"no-icon\"}},{xtype:\"dynamicopview\",title:\"Operators\",tab:{cls:\"no-icon\"}},{xtype:\"dynamicmacview\",title:\"Machines\",tab:{cls:\"no-icon\"}}]}},0,[\"dynamic",651531,44,"dynamichome",649216,48,"dynamichome:true},[\"widget.dynamichome\"],0,[Poise.view,\"DynamicHo",652719,32,651317,199,"home",651521,295,"cls:\"log-form",653695,83,"Downtime\",margin:\"10\",cls:\"loggedAt",653904,35,651952,1644,"Output",666398,38,654654,57,"cls:\"log-form",653695,83,"Output\",margin:\"10\",cls:\"loggedAt",653904,35,651952,108,654953,663,653588,109,"cls:\"log-form",653695,103,"cls:\"loggedAt",653904,35,651952,108,653939,663,655616,5021,"downtimeSection:\"panel[name=downtime_container] #reportSection\",reworkSection:\"panel[name=rework_container] #reportSection\",outputSection:\"panel[name=output_container] #reportSection",660635,266,"downtimeSection:{change:\"refreshDowntimeChart\"},reworkSection:{change:\"refreshReworkChart\"},outputSection:{change",660878,891,"a=g.up(\"#downtime",662128,39,"section=g.up(\"#downtimeChart\").down(\"#reportSection",662400,83,661838,41,"+\"&report_section=\"+section",661879,63,"a=g.up(\"#rework",662128,39,"section=g.up(\"#reworkChart\").down(\"#reportSection",662400,83,662011,39,"+\"&report_section=\"+section",662050,117,"section",662114,35,"Section",662400,83,662236,39,"+\"&report_section=\"+section",662275,491,"Viewport",440365,37,"\"Loading data...\"});",662762,82,"Ext.each(e,function(g,f){if(g.values.length==0){}});b.renderChartData(e);Ext.Viewport.setMasked(fals",662862,307,"Average</th>\",\"<th>Max</th>\",\"<th>Min",663215,53,"average}</td>\",\"<td>{max}</td>\",\"<td>{min",663993,36,"utput",665741,35,"3\"><i>No Output",663469,180,"Machine",663658,119,"briefcase",664431,88,"\"<th>Mac ID</th>\",\"<th>Name</th>\",\"<th>Attachment</th>\",\"<th>Availability</th>\",\"</thead>\",'<tpl for=\"machines\">',\"<tr>\",\"<td>{mac_id}</td>\",\"<td>{name}</td>\",'<td>{[values.attachment ? values.attachment : \"<i>Not Available</i>\"]}</td>',\"<td>{available_units}</td",616586,116,"view,\"Machine",649324,39,"Workstation",663658,119,"briefcase",664431,88,"\"<th>Section</th>\",\"<th>Operation</th>\",\"<th>Machine</th>\",\"</thead>\",'<tpl for=\"workstation\">',\"<tr>\",\"<td>{section_name}</td>\",\"<td>{operation_name}</td>\",\"<td>{machine_name}</td",616586,116,"view,\"Workst",587103,33,666373,164,"w",666647,32,666524,563,"view.WSDetailsMac",666393,52,"Mac",666445,92,"w",666647,32,"fit\",itemId:\"machinesTable\"",652191,74,666728,92,"MacBack\"}]}]}},0,[\"ws_details_mac",641295,43,"formpanel\",\"ws_details_mac",642048,51,"formpanel:true,ws_details_mac",666987,33,"mac",667019,33,"Mac",645056,40,664270,85,"tpl exec=\"values.parent = parent;\"></tpl",664350,259,"'<th style=\"width: 20%\">Recent Output (Last 8 hours)</th>',\"<th>Operator(s)</th>\",'<th style=\"width: 15",664679,52,"pl exec=\"values.parent = parent;\"></tpl",664725,196,"utput\">','<tpl if=\"average &gt; 60 || average == 60\"",665245,35,"<i>Avg: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{average}</span></span>',\"</tpl>\",'<tpl if=\"average &lt; 60\">','<span class=\"boxed red-item\"><i>Avg: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{average}</span></span>',\"</tpl>\",'<tpl if=\"max &gt; 60 || max == 60\"",665245,35,"<i>Max: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{max}</span></span>',\"</tpl>\",'<tpl if=\"max &lt; 60\">','<span class=\"boxed red-item\"><i>Max: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{max}</span></span>',\"</tpl>\",'<tpl if=\"min &gt; 60 || min == 60\"",665245,35,"<i>Min: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{min}</span></span>',\"</tpl>\",'<tpl if=\"min &lt; 60\">','<span class=\"boxed red-item\"><i>Min: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{min}</span></span>',\"</tpl>\",\"</tpl>\",\"",664876,101,"<i class=\"fa fa-square\"></i> {[values.name ? values.name : \"<i>Not Assigned</i>\"]",664982,48,"<i class=\"fa fa-square\"></i> {[values.skill ? \"Skill - \" + values.skill : \"<i>Not Assigned</i>\"]",665044,39,664886,46,"'<div style=\"margin: 0.3em 0.2em;\">','<div class=\"duration\"><input type=\"text\" value=\"1\" placeholder=\"HH\" /></div>','<div data-operator=\"{id}\" data-old-ws=\"{[parent.old_ws_id]}\" data-state=\"{[parent.state]}\" data-new-ws=\"{parent.",665547,97,"class=\"x-button-label {[parent.state]}\">Assign</span>',\"</div>\",\"</div>\",\"</tpl>\",\"",663994,36,665737,39,"5",665777,92,"c){var b=this;",665872,97,"n,k){var j=n.getTarget(\"div.x-button\");if(j){var f=j.previousSibling.childNodes[0].value;var h=j",666093,33,"m=j.getAttribute(\"data-new-ws\");var g=j.getAttribute(\"data-operator\");var l=j.getAttribute(\"data-state\");if(g==\"\"){Ext.Msg.alert(\"Deviation\",\"No operator found for this deviation. Please assign someone else.\");return false}if(l!=\"yellow\"){if(f!=\"\"&&b.isInt(f)&&parseInt(f)<=8&&parseInt(f)>0){a.createDeviation(k,h,m,g,f)}else{Ext.Msg.alert(\"Deviation\",\"Enter valid no of hours to deviate.\");return false}}else{Ext.Msg.alert(\"Deviation\",\"The workstation is already part of a deviation.\")}}}})},isInt:function(b){var a=/^-?[0-9]+$/;return a.test(b",666185,199,663649,270,"th>Attendance Today</th>\",\"<th>Skill Level",663910,74,"<span>{name}</span></td>\",'<td><span class=\"{name_class}\"><i class=\"fa fa-square\"></i> {[values.name_class == \"red-item\" ? \"Absent\" : \"Present\"]}</span></td>','<td><span class=\"{skill_class}\"><i class=\"fa fa-square\"></i> {skill}</span></td>'",664000,71,"4",663453,151,664223,47,"DynamicDBContent",663662,74,"tpl if=\"work_stations.length &gt; 0\" >','<div class=\"db-table-header\"><i class=\"fa fa-tag\"></i> {section_name}</div>','<tpl for=\"work_stations\">','<div class=\"ws-wrapper\">','<div class=\"ws-header\">',\"<span>{[xindex]}. {operation}</span>\",\"</div>\",'<div class=\"ws-body\">','<div data-ws=\"{ws_id}\" data-sec=\"{section}\" data-mac=\"{machine}\" data-op=\"{operation}\" data-state=\"{op_class}\" class=\"op {op_class}\">",671869,34,"</div>','<div data-ws=\"{ws_id}\" data-sec=\"{section}\" data-mac=\"{machine}\" data-op=\"{operation}\" class=\"mac {mac_class}",632837,36,"</div>',\"</div>\",\"</div>\",\"</tpl>\",\"</tpl",665835,34,"c){var b=this;",665872,97,"n,h){var g=n.getTarget(\"div.op\");var m=n.getTarget(\"div.mac\");if(g){var l=g.getAttribute(\"data-ws\");var o=g.getAttribute(\"data-sec\");var k=g.getAttribute(\"data-op\");var j=g.getAttribute(\"data-mac\");var f=g.getAttribute(\"data-state\");a.showWSDetailsForDB({id:l,state:f,section_name:o,operation_name:k,machine_name:j})}else{if(m){var l=m.getAttribute(\"data-ws\");var o=m.getAttribute(\"data-sec\");var k=m.getAttribute(\"data-op\");var j=m.getAttribute(\"data-mac\");a.showWSMacDetailsForDB({id:l,section_name:o,operation_name:k,machine_name:j})}}}}",663520,83,"DynamicDBContent",660054,41,667098,61,"OperatorsView\",\"DynamicMachinesView\",\"DynamicDashboard\",\"DynamicWorkstationList\",\"DynamicWorkstationMacList\",\"WSDetailsPanel\",\"WSDetailsMac",667200,50,",\"MachineView\",\"WorkstationView\",\"DynamicDBContent",672917,35,"DynamicWorkstations\"],refs:{opListView:\"dynamicopview dynamic_workstation_list\",macListView:\"dynamicmacview dynamic_workstation_mac_list\",dynamicOpRefreshButton:\"dynamicop",667377,35,"op-list]\",dynamicMacRefreshButton:\"dynamicma",667376,36,"mac-list]\",dynamicDBRefreshButton:\"dynamicdashboard button[action=refresh-dynamic-dashboard",667416,42,"dynamicMacBackButton:\"button#dynamicMa",667451,52,"OpRefreshButton:{tap:\"refreshOpWorkstationList\"},dynamicMacRefreshButton:{tap:\"refreshMacWorkstationList\"},dynamicDBRefreshButton:{tap:\"loadDynamicDashboard\"},opListView:{itemtap:\"onOpItemTapAction\"},macListView:{itemtap:\"onMac",667569,62,"dynamicMa",667591,33,"Ma",667623,75,"b,e,g,c,a){Ext.Viewport",440365,37,"\"Loading data...\"});var f",667710,122,"e+\"&new_ws_id=\"+g+\"&operator_id=\"+c+\"&hours=\"+a",667849,32,"k){Ext.Msg.alert(\"Deviation\",\"Operator Deviation created for \"+a+\" hour(s)\");var m=Ext.JSON.decode(k.responseText);var l",667990,35,"OpView\")[0].pop();var n",667990,35,"Dashboard\")[0].pop();var j",668256,41,"h=localStorage.getItem(\"obId\");j",639708,37,"h},callback:function(){f.loadDynamicDashboard();Ext.Viewport.setMasked(false)}})}})},refreshOp",668219,165,"op",639983,49,"b)},refreshMac",668219,165,"mac",639983,33,"mac_list\").setStore(b)},onOp",668440,66,"onMac",668440,47,"Mac",668487,107,"OpView\").push(a);this.addWSDetailsToView(a,[b]);this.loadData(b.id,a,b.state)},showWSMac",668512,60,"MacPanel\");c.up(\"#dynamicMacView\").push(a);this.addWSDetailsToView(a,[b]);this.loadMacData(b.id,a)},showWSDetailsForDB:function(",668531,49,667991,34,"Dashboard\")[0].push(a);this.addWSDetailsToView(a,[b]);this.loadData(b.id,a,b.state)},showWSMacDetailsForDB:function(",668531,41,"MacPanel\");",667991,34,"Dashboard\")[0].push(a);this.addWSDetailsToView(a,[b]);this.loadMac",668618,32,"e,a,c){Ext.Viewport",440365,37,"\"Loading data...\"});",668655,127,"e",659753,59,"b.addOperatorsToView(a,g);b.addOutputsToView(a,g);b.addOptionsToView(a,g,e,c);Ext.Viewport.setMasked(false)}})},loadMacData:function(c,a){Ext.Viewport",440365,37,"\"Loading data...\"});",668655,96,"mac",668750,58,"g",668809,33,"var f=Ext.create(\"Poise.view.MachineView\",{data:[{title:\"Machine Availability\",machines:g.machines}]});a.down(\"#machinesTable\").add(f);Ext.Viewport.setMasked(false",668916,42,"if(b.up(\"#dynamicOpView\")!=undefined){b.up(\"#dynamicOpView\").pop()}else{if(b.up(\"#dynamicDashboard\")!=undefined){b.up(\"#dynamicDashboard\").pop()}}},goBackToDynamicMacView:function(b,c,a){if(b.up(\"#dynamicMacView\")!=undefined){b.up(\"#dynamicMacView\").pop()}else{if(b.up(\"#dynamicDashboard\")!=undefined){b.up(\"#dynamicDashboard\").pop()}}},addWSDetail",669160,51,"WorkstationView\",{data:[{title:\"Workstation Details\",workstation:c}]});a.down(\"#wsTable\").add(b",668983,269," (Last 8 hours)",669253,84,"e,f,c){Ext.each(e.options,function(g){g.state=c;g.old_ws_id=f});",669342,60,"f,state:c",669403,49,"e",669453,44,",loadDynamicDashboard:function(){Ext.Viewport",440365,37,"\"Loading data...\"});var c=this",639628,36,"var a=Ext.ComponentQuery.query(\"#dbPanel\")[0];",659645,64,"dynamic_balancing/ws_db_list.json?ob_id=\"+b,success:function(e){var g",668809,33,"var f=Ext.create(\"Poise.view.DynamicDBContent\",{data:g});a.removeAll();a.add(f);Ext.Viewport.setMasked(fals",662862,39,669530,46,631477,621,669576,1464,"List",671044,263,"panel\",layout:\"vbox\",itemId:\"togglePanel\"},",651823,43,671455,82,"},updateRecord:function(a){if(a==null||a.get(\"operators_attendance\")===undefined){return}var c=this;var e=c.down(\"#togglePanel\");if(e.getInnerItems().length>0){return}var b=a.get(\"operator_name\").split(\", \").map(function(f){return\"<div style='margin: 1em 0'><span class='icon-custom'>U</span> \"+f+\"</div>\"}).join(\"\");c",671654,93,"c",671748,89,"c.down(\"#operatorCmp\").setHtml(b);c",671930,46,"c.addToggleFields(a.get(\"operators_attendance\"),a.get(\"attendance_today\"),e);Ext.dataview.component.List",672118,51,"addToggleFields:function(b,a,e){var c=this;if(b.length>0){Ext.each(b,function(f){e.add({xtype:\"togglefield",671336,41,"value:f[1],name:f[0]",671376,34,",listeners:{change:function(j,h,g){if(j.up(\"attendancelistitem\")!=undefined",659643,66,672266,57,"j",672324,60,"workstation_operator_id:j.getName(),logged_at:Ext.ComponentQuery.query(\"#attendanceView\")[0]",672417,40,"j",672458,102,"}})})}else{e.add({xtype:\"togglefield",671336,41,"value:a",671376,34,",listeners:{change:function(h,g,f){if(h.up(\"attendancelistitem\")!=undefined",659643,66,672266,57,"h",672324,60,"workstation_operator_id:0,logged_at:Ext.ComponentQuery.query(\"#attendanceView\")[0]",672417,40,"h",672458,102,"}})}",672558,65,"list",672616,73,"list",672679,239,",\"DynamicHome",672917,80,"Sections\",\"ObStore\",\"ChartData\",\"ReportTime",673016,858]