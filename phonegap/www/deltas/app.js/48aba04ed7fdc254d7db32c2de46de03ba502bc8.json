["function _725741f0c885742e0887505df9ffffd79a22c7e2",50,629718,"state\",type:\"string\"},{name:\"mac_state\",type:\"string\"},{name:\"message\",type:\"string\"},{name:\"mac_messag",629665,33,"s_attendance",652912,32,"Workstation",632016,46,631440,49,"reportTimeData\",fields:[\"id\"],data:[{id:\"09:00:00\"},{id:\"10:00:00\"},{id:\"11:00:00\"},{id:\"12:00:00\"},{id:\"13:30:00\"},{id:\"14:30:00\"},{id:\"15:30:00\"},{id:\"16:30:00\"}]",632300,62,638176,35,649318,57,632458,233,"og-",632854,40,632730,44,"og-",632854,40,632813,42,"og-",632854,3340,649339,36,632458,62,636274,172,"dynamic-list ",636446,70,"list",636513,65,"list",636572,220,"cls:\"attendance-v",633291,167,633724,177,637131,1075,630746,322,"model.Sec",629417,84,"line_id\",type:\"int\"},{name:\"name\",type:\"string\"},{name:\"enabled\",type:\"boolean",652912,32,"Section",632016,36,"Section",655904,46,"Section\",storeId:\"Sections\"",630073,66,"section",630879,52,"section\"}}}},0,0,0,0,[\"store.sections\"],0,[Poise.store,\"Sections",632016,36,631074,357,"Workstation",655904,46,629978,71,"'<i class=\"fa fa-tag\"></i> Section: '+a.get(\"section_name\")},sortProperty:\"section_id\"",630072,386,"'<i class=\"fa fa-tag\"></i> Section: '+a.get(\"section_name\")},sortProperty:\"section_id\"",630072,67,630548,198,638206,1287,"k,j,g){Ext.Viewport",440365,37,"\"Loading data...\"});var b",639505,34,"f",668204,41,"h=Ext.getStore(\"Sections\"",661613,37,"var a=localStorage.getItem(\"line",668271,43,"c},callback:function(){k",639699,66,"b);k",639769,64,"b);k",639837,64,"b)}});f",639613,37,"c},callback:function(){k.up(\"home\").down(\"dynamicop",668333,49,"f);k.up(\"home\").down(\"dynamicmac",668333,33,"mac_list\").setStore(f);Ext.Viewport.setMasked(false)}});h.load({params:{line_id:a},callback:function(){k.up(\"home\").down(\"#outputChart\").down(\"#reportSection\").setStore(h);k.up(\"home\").down(\"#downtimeChart\").down(\"#reportSection\").setStore(h);k.up(\"home\").down(\"#reworkChart\").down(\"#reportSection\").setStore(h)}});this.loadDynamicDashboard(",639981,482,",loadDynamicDashboard:function(",665818,69,"a.loadDynamicDashboard(",640461,4960,647616,39,646881,249,"font-weight: bold; padding-top: 0.5em;\",flex:1},{xtype:\"panel\",layout:\"hbox\",flex:2,align:\"center\",items:[",634496,35,"Date\",label:\"Date : \",labelWidth:\"auto",647358,56,"filters\",align:\"center",650670,54,"lastSevenDays()}",634494,37,"Section\",displayField:\"name\",label:\"Section : \",labelWidth:\"auto",648176,35,"filters\",align:\"center\"}]",648783,104,"right",647286,32,647536,337,"Sec",645679,38,"font-weight: bold; padding-top: 0.5em;\",flex:1},{xtype:\"panel\",layout:\"hbox\",flex:2,items:[",634496,35,"Date\",label:\"Date : \",labelWidth:\"auto",647358,56,"filters\",flex:1",650671,53,"lastSevenDays()}}]",648783,104,"right",648075,40,"]},",640319,35,646800,42,645421,296,"font-weight: bold; padding-top: 0.5em;\",flex:1},{xtype:\"panel\",layout:\"hbox\",flex:2,align:\"center\",items:[",634496,35,"Date\",label:\"Date : \",labelWidth:\"auto",647358,56,"filters\",align:\"center",650670,54,"lastSevenDays()}",634494,37,"Section\",displayField:\"name\",label:\"Section : \",labelWidth:\"auto",648176,35,"filters\",align:\"center\"}]",648783,104,"right",645873,34,646063,363,"font-weight: bold; padding-top: 0.5em;\",flex:1},{xtype:\"panel\",layout:\"hbox\",flex:2,align:\"center\",items:[",634496,35,"Date\",label:\"Date : \",labelWidth:\"auto",647358,56,"filters\",align:\"center",650670,54,"lastSevenDays()}",634494,37,"Section\",displayField:\"name\",label:\"Section : \",labelWidth:\"auto",648176,35,"filters\",align:\"center\"}]",648783,104,"right",646582,32,646770,72,648442,258,"Month",648704,33,"font-weight: bold; padding-top: 0.5em",646463,113,"right",648893,36,649042,276,"Dashboard",636703,65,"scrollable:true,itemId:\"dynamicDashboard\"",645163,34,"items:[{xtype:\"panel\",scrollable:true",669581,32,645344,34,636878,88,633742,159,637131,44,650768,155,"dashboard\"}]},",634318,32,"Id:\"dbPanel\",margin:10}]}]}},0,[\"dynamicdashboard",586944,44,",\"dynamicdashbo",638046,37,"navigationview:true,dynamicdashboard:true},[\"widget.dynamicdashboard\"],0,[Poise.view,\"DynamicDashbo",638173,38,649311,151," dynamic-op-list\",title:\"Workstations\",scrollToTopOnRefresh:false",649484,109,"dynamic-item {state}-item\"",632841,53,632730,83,"U</span> {operator",632830,36," list-message\"><span class=\"icon-custom\">i</span> {messag",649843,322,"Operators",634222,77,"dynamicOpView\"",645163,34,633296,162,650553,370,"op",650922,61,"op",586940,48,",\"dynamicop",442960,38,"navigationview:true,dynamicopview:true},[\"widget.dynamicopview\"],0,[Poise.view,\"Dynamic",664170,48,"DynamicWorkstationMac",632412,46,649375,87," dynamic-mac-list\",title:\"Workstations\",scrollToTopOnRefresh:false",649484,109,"dynamic-item {mac_state}-item\"",632841,53,632730,136," list-message\"><span class=\"icon-custom\">i</span> {mac_messag",649843,43,"mac_",632959,51,"dynamic_workstation_mac_",636526,52,"list:true,dynamic_workstation_mac",650038,41,"mac",650078,41,"MacList",638176,35,"DynamicMachines",634222,77,"dynamicMacView\"",645163,34,633296,162,650553,370,"ma",650921,39,"mac_list\"}]}]}},0,[\"dynamicmac",586940,48,",\"dynamicmac",442960,38,"navigationview:true,dynamicmacview:true},[\"widget.dynamicmacview\"],0,[Poise.view,\"DynamicMachines",651231,39,"DynamicHome",645054,45,"100%\",itemId:\"dynamicHome",650253,42,645147,117,650328,78,"dynamicdashboard\",title:\"Dashboard\",tab:{cls:\"no-icon\"}},{xtype:\"dynamicopview\",title:\"Operators\",tab:{cls:\"no-icon\"}},{xtype:\"dynamicmacview\",title:\"Machines\",tab:{cls:\"no-icon\"}}]}},0,[\"dynamic",651479,44,"dynamichome",302400,35,"abpanel:true,dynamichome:true},[\"widget.dynamichome\"],0,[Poise.view,\"DynamicHome",638176,35,651270,194,"home",651469,295,"cls:\"log-form",653643,83,"Downtime\",margin:\"10\",cls:\"loggedAt",653744,143,652008,1536,654558,101,"cls:\"log-form",653643,83,"Output\",margin:\"10\",cls:\"loggedAt",653744,143,654901,663,653536,109,"cls:\"log-form",653643,103,"cls:\"loggedAt",653744,806,655564,5021,"downtimeSection:\"panel[name=downtime_container] #reportSection\",reworkSection:\"panel[name=rework_container] #reportSection\",outputSection:\"panel[name=output_container] #reportSection",660583,266,"downtimeSection:{change:\"refreshDowntimeChart\"},reworkSection:{change:\"refreshReworkChart\"},outputSection:{change",660826,891,"a=g.up(\"#downtime",662076,39,"section=g.up(\"#downtimeChart\").down(\"#reportSection",662348,83,661786,41,"+\"&report_section=\"+section",661827,63,"a=g.up(\"#rework",662076,39,"section=g.up(\"#reworkChart\").down(\"#reportSection",662348,83,"rework",662190,33,"+\"&report_section=\"+section",661998,117,"section",662062,35,"Section",662348,83,662184,39,"+\"&report_section=\"+section",662223,491,"Viewport",440365,37,"\"Loading data...\"});",662710,82,"Ext.each(e,function(g,f){if(g.values.length==0){}});b.renderChartData(e);Ext.Viewport.setMasked(fals",662810,307,"Average</th>\",\"<th>Max</th>\",\"<th>Min",663163,53,"average}</td>\",\"<td>{max}</td>\",\"<td>{min",663941,36,663360,40,"3\"><i>No Output",663417,180,"MachineView",616411,72,662974,43,"briefcase",663024,93,"Mac ID</th>\",\"<th>Name</th>\",\"<th>Attachment</th>\",\"<th>Availability</th>\",\"</thead>\",'<tpl for=\"machines\">',\"<tr>\",\"<td>{mac_id}</td>\",\"<td>{name}</td>\",'<td>{[values.attachment ? values.attachment : \"<i>Not Available</i>\"]}</td>',\"<td>{available_units}</td",616586,116,"view,\"Machin",634176,40,"WorkstationView",616411,72,662974,43,"briefcase",663024,93,"Section</th>\",\"<th>Operation</th>\",\"<th>Machine</th>\",\"</thead>\",'<tpl for=\"workstation\">',\"<tr>\",\"<td>{section_name}</td>\",\"<td>{operation_name}</td>\",\"<td>{machine_name}</td",616586,116,"view,\"Workst",587103,33,666321,164,"w",666544,47,"erator",666544,46,666539,496,"view.WSDetailsMacPanel",653550,38,"wsDetailsMac",666393,92,"w",666544,45,"machine",666544,32,670015,49,666676,92,"MacBack\"}]}]}},0,[\"ws_details_mac",641243,43,"formpanel\",\"ws_details_mac_",279534,49,",formpanel:true,ws_details_mac",666935,33,"mac",666967,33,"Mac",644288,40,664218,85,"tpl exec=\"values.parent = parent;\"></tpl",664298,259,"'<th style=\"width: 20%\">Recent Output (Last 8 hours)</th>',\"<th>Operator(s)</th>\",'<th style=\"width: 15",664627,52,"pl exec=\"values.parent = parent;\"></tpl",664673,196,"utput\">','<tpl if=\"average &gt; 60 || average == 60\"",665193,35,"<i>Avg: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{average}</span></span>',\"</tpl>\",'<tpl if=\"average &lt; 60\">','<span class=\"boxed red-item\"><i>Avg: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{average}</span></span>',\"</tpl>\",'<tpl if=\"max &gt; 60 || max == 60\"",665193,35,"<i>Max: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{max}</span></span>',\"</tpl>\",'<tpl if=\"max &lt; 60\">','<span class=\"boxed red-item\"><i>Max: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{max}</span></span>',\"</tpl>\",'<tpl if=\"min &gt; 60 || min == 60\"",665193,35,"<i>Min: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{min}</span></span>',\"</tpl>\",'<tpl if=\"min &lt; 60\">','<span class=\"boxed red-item\"><i>Min: </i> &nbsp; <span style=\"margin: 0 0 0 0.2em\">{min}</span></span>',\"</tpl>\",\"</tpl>\",\"",664824,101,"<i class=\"fa fa-square\"></i> {[values.name ? values.name : \"<i>Not Assigned</i>\"]",664930,48,"<i class=\"fa fa-square\"></i> {[values.skill ? \"Skill - \" + values.skill : \"<i>Not Assigned</i>\"]",664992,39,664834,46,"'<div style=\"margin: 0.3em 0.2em;\">','<div class=\"duration\"><input type=\"text\" value=\"1\" placeholder=\"HH\" /></div>','<div data-operator=\"{id}\" data-old-ws=\"{[parent.old_ws_id]}\" data-state=\"{[parent.state]}\" data-new-ws=\"{parent.",665495,97,"class=\"x-button-label {[parent.state]}\">Assign</span>',\"</div>\",\"</div>\",\"</tpl",665645,79,"5",665725,92,"c){var b=this;",665820,97,"n,k){var j=n.getTarget(\"div.x-button\");if(j){var f=j.previousSibling.childNodes[0].value;var h=j",666041,33,"m=j.getAttribute(\"data-new-ws\");var g=j.getAttribute(\"data-operator\");var l=j.getAttribute(\"data-state\");if(g==\"\"){Ext.Msg.alert(\"Deviation\",\"No operator found for this deviation. Please assign someone else.\");return false}if(l!=\"yellow\"){if(f!=\"\"&&b.isInt(f)&&parseInt(f)<=8&&parseInt(f)>0){a.createDeviation(k,h,m,g,f)}else{Ext.Msg.alert(\"Deviation\",\"Enter valid no of hours to deviate.\");return false}}else{Ext.Msg.alert(\"Deviation\",\"The workstation is already part of a deviation.\")}}}})},isInt:function(b){var a=/^-?[0-9]+$/;return a.test(b",666133,199,663597,270,"th>Attendance Today</th>\",\"<th>Skill Level",663858,74,"<span>{name}</span></td>\",'<td><span class=\"{name_class}\"><i class=\"fa fa-square\"></i> {[values.name_class == \"red-item\" ? \"Absent\" : \"Present\"]}</span></td>','<td><span class=\"{skill_class}\"><i class=\"fa fa-square\"></i> {skill}</span>",663325,35,663977,42,"4",663401,151,664171,47,"DynamicDBCont",616408,75,"'<tpl if=\"work_stations.length &gt; 0\" >','<div class=\"db-table-header\"><i class=\"fa fa-tag\"></i> {section_name}</div>','<tpl for=\"work_stations\">','<div class=\"ws-wrapper\">','<div class=\"ws-header\">',\"<span>{[xindex]}. {operation}</span>\",\"</div>\",'<div class=\"ws-body\">','<div data-ws=\"{ws_id}\" data-sec=\"{section}\" data-mac=\"{machine}\" data-op=\"{operation}\" data-state=\"{op_class}\" class=\"op {op_class}\">",671817,34,"</div>','<div data-ws=\"{ws_id}\" data-sec=\"{section}\" data-mac=\"{machine}\" data-op=\"{operation}\" class=\"mac {mac_class}",649712,36,"</div>',\"</div>\",\"</div>\",\"</tpl>\",\"</tpl",665783,34,"c){var b=this;",665820,97,"n,h){var g=n.getTarget(\"div.op\");var m=n.getTarget(\"div.mac\");if(g){var l=g.getAttribute(\"data-ws\");var o=g.getAttribute(\"data-sec\");var k=g.getAttribute(\"data-op\");var j=g.getAttribute(\"data-mac\");var f=g.getAttribute(\"data-state\");a.showWSDetailsForDB({id:l,state:f,section_name:o,operation_name:k,machine_name:j})}else{if(m){var l=m.getAttribute(\"data-ws\");var o=m.getAttribute(\"data-sec\");var k=m.getAttribute(\"data-op\");var j=m.getAttribute(\"data-mac\");a.showWSMacDetailsForDB({id:l,section_name:o,operation_name:k,machine_name:j})}}}}",663468,83,"DynamicDBContent",656478,41,667046,61,"OperatorsView\",\"DynamicMachinesView\",\"DynamicDashboard\",\"DynamicWorkstationList\",\"DynamicWorkstationMacList\",\"WSDetailsPanel\",\"WSDetailsMac",667148,50,",\"MachineView\",\"WorkstationView\",\"DynamicDBContent",667197,63,"opListView:\"dynamicopview dynamic_workstation_list\",macListView:\"dynamicmacview dynamic_workstation_mac_list\",dynamicOpRefreshButton:\"dynamicop",667325,35,"op-list]\",dynamicMacRefreshButton:\"dynamicma",667324,36,"mac-list]\",dynamicDBRefreshButton:\"dynamicdashboard button[action=refresh-dynamic-dashboard",667364,42,"dynamicMacBackButton:\"button#dynamicMa",667399,52,"OpRefreshButton:{tap:\"refreshOpWorkstationList\"},dynamicMacRefreshButton:{tap:\"refreshMacWorkstationList\"},dynamicDBRefreshButton:{tap:\"loadDynamicDashboard\"},opListView:{itemtap:\"onOpItemTapAction\"},macListView:{itemtap:\"onMac",667517,62,"dynamicMa",667539,33,"Ma",667571,75,"b,e,g,c,a){Ext.Viewport",440365,37,"\"Loading data...\"});var f",668608,88,667746,34,"e+\"&new_ws_id=\"+g+\"&operator_id=\"+c+\"&hours=\"+a",667797,32,"k){Ext.Msg.alert(\"Deviation\",\"Operator Deviation created for \"+a+\" hour(s)\");var m=Ext.JSON.decode(k.responseText);var l",667938,35,"OpView\")[0].pop();var n",667938,35,"Dashboard\")[0].pop();var j",668204,41,"h=localStorage.getItem(\"obId\");j",639613,37,"h},callback:function(){f.loadDynamicDashboard();Ext.Viewport.setMasked(false)}})}})},refreshOp",668167,165,"op",668333,53,"refreshMac",668167,165,"mac",668333,33,"mac_list\").setStore(b)},onOp",668388,66,"onMac",668388,47,"Mac",668435,107,"OpView\").push(a);this.addWSDetailsToView(a,[b]);this.loadData(b.id,a,b.state)},showWSMac",668460,60,"MacPanel\");c.up(\"#dynamicMacView\").push(a);this.addWSDetailsToView(a,[b]);this.loadMacData(b.id,a)},showWSDetailsForDB:function(",668479,49,667939,34,"Dashboard\")[0].push(a);this.addWSDetailsToView(a,[b]);this.loadData(b.id,a,b.state)},showWSMacDetailsForDB:function(",668479,41,"MacPanel\");",667939,34,"Dashboard\")[0].push(a);this.addWSDetailsToView(a,[b]);this.loadMac",668566,32,"e,a,c){Ext.Viewport",440365,37,"\"Loading data...\"});",668603,127,"e",659701,59,"b.addOperatorsToView(a,g);b.addOutputsToView(a,g);b.addOptionsToView(a,g,e,c);Ext.Viewport.setMasked(false)}})},loadMacData:function(c,a){Ext.Viewport",440365,37,"\"Loading data...\"});",668603,96,"mac",668698,58,"g",668757,33,"var f=Ext.create(\"Poise.view.MachineView\",{data:[{title:\"Machine Availability\",machines:g.machines}]});a.down(\"#machinesTable\").add(f);Ext.Viewport.setMasked(false",668864,42,"if(b.up(\"#dynamicOpView\")!=undefined){b.up(\"#dynamicOpView\").pop()}else{if(b.up(\"#dynamicDashboard\")!=undefined){b.up(\"#dynamicDashboard\").pop()}}},goBackToDynamicMacView:function(b,c,a){if(b.up(\"#dynamicMacView\")!=undefined){b.up(\"#dynamicMacView\").pop()}else{if(b.up(\"#dynamicDashboard\")!=undefined){b.up(\"#dynamicDashboard\").pop()}}},addWSDetail",669108,51,"WorkstationView\",{data:[{title:\"Workstation Details\",workstation:c}]});a.down(\"#wsTable\").add(b",668931,269," (Last 8 hours)",669201,84,"e,f,c){Ext.each(e.options,function(g){g.state=c;g.old_ws_id=f});",669290,60,"f,state:c",669351,49,"e",669401,44,",loadDynamicDashboard:function(){Ext.Viewport",440365,37,"\"Loading data...\"});var c=this",639576,36,"var a=Ext.ComponentQuery.query(\"#dbPanel\")[0]",667663,83,"ws_db_list.json?ob_id=\"+b,success:function(e){var g",668757,33,"var f=Ext.create(\"Poise.view.DynamicDBContent\",{data:g});a.removeAll();a.add(f);Ext.Viewport.setMasked(fals",662810,39,669478,46,"store.Chart",632062,53,631489,557,669524,1464,"List",670992,263,"panel\",layout:\"vbox\",itemId:\"togglePanel",671357,128,"},updateRecord:function(a){if(a==null||a.get(\"operators_attendance\")===undefined){return}var c=this;var e=c.down(\"#togglePanel\");if(e.getInnerItems().length>0){return}var b=a.get(\"operator_name\").split(\", \").map(function(f){return\"<div style='margin: 1em 0'><span class='icon-custom'>U</span> \"+f+\"</div>\"}).join(\"\");c",671602,93,"c",671696,89,"c.down(\"#operatorCmp\").setHtml(b);c",671878,46,"c.addToggleFields(a.get(\"operators_attendance\"),a.get(\"attendance_today\"),e);Ext.dataview.component.List",672066,51,"addToggleFields:function(b,a,e){var c=this;if(b.length>0){Ext.each(b,function(f){e.add({xtype:\"togglefield",671284,41,"value:f[1],name:f[0]",671324,34,",listeners:{change:function(j,h,g){if(j.up(\"attendancelistitem\")!=undefined){",667664,64,672214,57,"j",672272,60,"workstation_operator_id:j.getName(),logged_at:Ext.ComponentQuery.query(\"#attendanceView\")[0]",672365,40,"j",672406,102,"}})})}else{e.add({xtype:\"togglefield",671284,41,"value:a",671324,34,",listeners:{change:function(h,g,f){if(h.up(\"attendancelistitem\")!=undefined){",667664,64,672214,57,"h",672272,60,"workstation_operator_id:0,logged_at:Ext.ComponentQuery.query(\"#attendanceView\")[0]",672365,40,"h",672406,102,"}})}",672506,65,"list",672564,73,"list",672627,239,",\"DynamicHome",667197,35,672900,45,"Sections\",\"ObStore\",\"ChartData\",\"ReportTime",672964,858]