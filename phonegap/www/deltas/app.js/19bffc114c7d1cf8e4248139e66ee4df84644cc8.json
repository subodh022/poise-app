["function _1ac267de39b4e129632517f672411eb7b702394f",50,629718,"state\",type:\"string\"},{name:\"messag",629665,33,"s_attendance",652972,32,"Workstation",631455,36,632112,639,"og-",649760,40,632790,44,"og-",649760,82,"og-",649760,40,632954,3300,649399,36,636285,42,"layout:\"fit",636325,181,"dynamic-list ",636506,70,"list",636573,65,"list",636632,220,"cls:\"attendance-v",636847,1419,630806,322,"model.Section",653054,80,"line_id\",type:\"int\"},{name:\"name\",type:\"string\"},{name:\"enabled\",type:\"boolean",652972,32,"Section",631455,36,"Sec",629928,50,"Section\",storeId:\"Section",655711,68,"section",656110,52,"section\"}}}},0,0,0,0,[\"store.sections\"],0,[Poise.store,\"Sections",631455,36,631134,357,629921,128,"\"Section: \"+",630489,47,630540,68,630169,319,"\"Section: \"+",630489,47,630540,266,638266,1287,"k,j,g){var b",639565,34,"f",639600,41,"h=Ext.getStore(\"Sections\"",661673,37,"var a=localStorage.getItem(\"line",667028,43,"c},callback:function(){k",639759,66,"b);k",639829,64,"b);k",639897,64,"b);k.up(\"home\").down(\"attendanceview\").down(\"attendancelist\").setStore(b)}});f",667034,37,"c},callback:function(){k",639965,75,"f)}});h.load({params:{line_id:a},callback:function(){k.up(\"home\").down(\"#outputChart\").down(\"#reportSection\").setStore(h);k.up(\"home\").down(\"#downtimeChart\").down(\"#reportSection\").setStore(h);k.up(\"home\").down(\"#reworkChart\").down(\"#reportSection\").setStore(h)}}",640041,5440,647676,39,646941,249,"font-weight: bold; padding-top: 0.5em;\",flex:1},{xtype:\"panel\",layout:\"hbox\",flex:2,align:\"center\",items:[",648176,41,"label:\"Date : \",labelWidth:\"auto",637088,51,"cls:\"filters\",align:\"center",634896,70,650640,37,"Section\",displayField:\"name\",label:\"Section : \",labelWidth:\"auto",647439,35,"filters\",align:\"center\"}]",645823,104,"right",647346,32,647596,337,"Sec",646448,38,"font-weight: bold; padding-top: 0.5em;\",flex:1},{xtype:\"panel\",layout:\"hbox\",flex:2,items:[",648176,41,"label:\"Date : \",labelWidth:\"auto",637088,51,"cls:\"filters\",flex:1",650731,53,"lastSevenDays()}}]",645823,104,"right",648135,40,"]},",661391,35,646860,42,645481,296,"font-weight: bold; padding-top: 0.5em;\",flex:1},{xtype:\"panel\",layout:\"hbox\",flex:2,align:\"center\",items:[",648176,41,"label:\"Date : \",labelWidth:\"auto",637088,51,"cls:\"filters\",align:\"center",634896,70,650640,37,"Section\",displayField:\"name\",label:\"Section : \",labelWidth:\"auto",647439,35,"filters\",align:\"center\"}]",645823,104,"right",645933,34,646123,363,"font-weight: bold; padding-top: 0.5em;\",flex:1},{xtype:\"panel\",layout:\"hbox\",flex:2,align:\"center\",items:[",648176,41,"label:\"Date : \",labelWidth:\"auto",637088,51,"cls:\"filters\",align:\"center",634896,70,650640,37,"Section\",displayField:\"name\",label:\"Section : \",labelWidth:\"auto",647439,35,"filters\",align:\"center\"}]",645823,104,"right",646642,32,646830,72,"attendanc",645488,34,648545,215,"Month",645744,33,"font-weight: bold; padding-top: 0.5em",648016,113,"right",648953,36,649102,552,"state}-item",632736,249,"div class=\"list-element list-message\"><span class=\"icon-custom\">i</span> {messag",649903,1140,"_view\",\"dynamic",586940,48,651106,718,"cls:\"log-form",651822,105,"cls:\"loggedAt",654926,35,653839,108,652068,1536,654618,101,"cls:\"log-form",651822,83,"Output\",margin:\"10\",cls:\"loggedAt",654926,35,653839,108,654961,663,653596,109,"cls:\"log-form",651822,83,"Rework\",margin:\"10\",cls:\"loggedAt",654926,35,653839,771,655624,5021,"downtimeSection:\"panel[name=downtime_container] #reportSection\",reworkSection:\"panel[name=rework_container] #reportSection\",outputSection:\"panel[name=output_container] #reportSection",660643,266,"downtimeSection:{change:\"refreshDowntimeChart\"},reworkSection:{change:\"refreshReworkChart\"},outputSection:{change",660886,891,"a=g.up(\"#downtime",662383,39,"section=g.up(\"#downtimeChart\").down(\"#reportSection",662408,83,"downtim",662687,34,"+\"&report_section=\"+section",661887,63,"a=g.up(\"#rework",662383,39,"section=g.up(\"#reworkChart\").down(\"#reportSection",662408,83,"rework",662688,33,"+\"&report_section=\"+section",662058,117,"section",662122,35,"Section",662408,83,"output",662688,33,"+\"&report_section=\"+section",662283,894,"Average</th>\",\"<th>Max</th>\",\"<th>Min",663223,53,"average}</td>\",\"<td>{max}</td>\",\"<td>{min}</td>\"",663391,69,"3\"><i>No Output",664096,135,663612,45,"Workstation",662958,119,"briefcase",663789,93,"Section</th>\",\"<th>Operation</th>\",\"<th>Machine</th>\",\"</thead>\",'<tpl for=\"workstation\">',\"<tr>\",\"<td>{section_name}</td>\",\"<td>{operation_name}</td>\",\"<td>{machine",663996,83,"3",664080,150,"Workst",587103,33,665554,164,"w",665726,46,665719,190,"back\",iconCls:\"arrow_left",652429,33,666098,301,663652,275,"th>Attendance Today</th>\",\"<th>Skill Level",663918,74,"<span>{name}</span></td>\",'<td><span class=\"{name_class}\">{[values.name_class == \"red-item\" ? \"Absent\" : \"Present\"]}</span></td>','<td><span class=\"{skill_class}\">{skill}</span>",663385,35,664037,42,"3",664080,283,"tpl exec=\"values.parent = parent;\"></tpl>','<div data-old-ws=\"{old_ws_id}\"",663039,38,664404,97,"'<th style=\"width: 10%\"><i class=\"fa fa-sort\"></i> Workstation</th>',\"<th>Operation</th>\",\"<th>Recent Output (Last 8 hours)</th>\",\"<th>Operator(s)</th>\",'<th style=\"width: 10%\">Action</th>'",664569,37,"pl exec=\"values.parent = parent;\"></tpl>','<tr class=\"x-option-item dynamic-options\">','<td><i class=\"fa fa-chevron-{[values.direction.toLowerCase()]}\"></i>{direction}</td",664643,64,"utput\">','<tpl if=\"average &gt; 60 || average == 60\"",665023,35,"<i>Avg: </i> &nbsp; <span style=\"margin: 0.1em 0 0 0.2em\">{average}</span></span>',\"</tpl>\",'<tpl if=\"average &lt; 60\">','<span class=\"boxed red-item\"><i>Avg: </i> &nbsp; <span style=\"margin: 0.1em 0 0 0.2em\">{average}</span></span>',\"</tpl>\",'<tpl if=\"max &gt; 60 || max == 60\"",665023,35,"<i>Max: </i> &nbsp; <span style=\"margin: 0.1em 0 0 0.2em\">{max}</span></span>',\"</tpl>\",'<tpl if=\"max &lt; 60\">','<span class=\"boxed red-item\"><i>Max: </i> &nbsp; <span style=\"margin: 0.1em 0 0 0.2em\">{max}</span></span>',\"</tpl>\",'<tpl if=\"min &gt; 60 || min == 60\"",665023,35,"<i>Min: </i> &nbsp; <span style=\"margin: 0.1em 0 0 0.2em\">{min}</span></span>',\"</tpl>\",'<tpl if=\"min &lt; 60\">','<span class=\"boxed red-item\"><i>Min: </i> &nbsp; <span style=\"margin: 0.1em 0 0 0.2em\">{min}</span></span>',\"</tpl>\",\"</tpl>\",\"",664662,102,"[values.name ? values.name : \"<i>Not Assigned</i>\"]",664768,49,"[values.skill ? \"Skill - \" + values.skill : \"<i>Not Assigned</i>\"]",664822,39,664672,46,"'<div style=\"margin: 0.3em 0.2em;\">','<div class=\"duration\"><input type=\"text\" value=\"1\" placeholder=\"HH\" /></div>','<div data-operator=\"{id}\" data-old-ws=\"{[parent.parent.old_ws_id]}\" data-state=\"{[parent.parent.state]}\" data-new-ws=\"{parent.ws_id}\" class=\"x-button x-iconalign-left x-button-action x-layout-box-item x-stretched\">','<span class=\"x-button-label {[parent.parent.state]}\">Assign</span>',\"</div>\",\"</div>\",\"</tpl>\",\"</td",665295,71,"5",665367,71,",initialize:function(c){var b=this;var a",640091,43,"DynamicBalancing\");this.element.on({tap:function(n,k){var j=n.getTarget(\"div.x-button\");if(j){var f=j.previousSibling.childNodes[0].value;var h=j.getAttribute(\"data-old-ws\");var m=j.getAttribute(\"data-new-ws\");var g=j.getAttribute(\"data-operator\");var l=j.getAttribute(\"data-state\");if(l!=\"yellow\"){if(f!=\"\"&&b.isInt(f)&&parseInt(f)<=8&&parseInt(f)>0){a.createDeviation(k,h,m,g,f)}else{Ext.Msg.alert(\"Deviation\",\"Enter valid no of hours to deviate.\")}}else{Ext.Msg.alert(\"Deviation\",\"The workstation is already part of a deviation.\")}}}})},isInt:function(b){var a=/^-?[0-9]+$/;return a.test(b)}},0,[\"options_",586940,33,"options_",442960,38,"options_view:true},[\"widget.options_view\"]",665503,57,666399,163,",\"Workstation",666557,212,",optionsTable:\"options_view",666768,146,",optionsTable:{tap:\"handleOptionsTable\"}}},createDeviation:function(b,e,g,c,a){var f",667365,88,"create_deviation.json?old_ws_id=\"+e+\"&new_ws_id=\"+g+\"&operator_id=\"+c+\"&hours=\"+a,method:\"POST\",success:function(k){Ext.Msg.alert(\"Deviation\",\"Deviation created for \"+a+\" hours.\");var m=Ext.JSON.decode(k.responseText);var l=Ext.ComponentQuery.query(\"#dynamicView\")[0].pop();var j",639600,41,"h=localStorage.getItem(\"obId\");j",667034,37,"h},callback:function(){l",639997,43,"j)}})}})",666915,399,"console.log([b]);this.addWSDetailsToView(a,[b]);this.loadData(b.id,a,b.state)},loadData:function(e,a,c",667358,129,"e",659761,59,"b.addOperatorsToView(a,g);b.addOutputsToView(a,g);b.addOptionsToView(a,g,e,c",667634,73,"WSDetail",667878,51,"WorkstationView\",{data:[{title:\"Workstation Details\",workstation:c}]});a.down(\"#wsTable\").add(b",667701,36,"console.log(c.operators);",667737,233," (Last 8 hours)",667971,84,"e,f",658398,33,"OptionsView\",{data:[{old_ws_id:f,state:c,",668108,48,"e",668157,123,631485,621,668280,1464,"List",669748,263,"panel\",layout:\"vbox\",itemId:\"togglePanel\"},",653712,43,670159,82,"},updateRecord:function(a){var c=this;var b=a.get(\"operator_name\").split(\", \").map(function(f){return\"<div style='margin: 1em 0'><span class='icon-custom'>U</span> \"+f+\"</div>\"}).join(\"\");c",670358,93,"c",670452,89,"c.down(\"#operatorCmp\").setHtml(b);c",670634,50,"e=c.down(\"#togglePanel\");c.addToggleFields(a.get(\"operators_attendance\"),a.get(\"attendance_today\"),e);Ext.dataview.component.List",670822,51,"addToggleFields:function(b,a,e){if(e.getInnerItems().length>0){return}var c=this;if(b.length>0){Ext.each(b,function(f){e.add({xtype:\"togglefield",670040,41,"value:f[1],name:f[0]",670080,34,",listeners:{change:function(j,h,g){if(j.up(\"attendancelistitem\")!=undefined){",667371,64,670970,57,"j",671028,60,"workstation_operator_id:j.getName(),logged_at:Ext.ComponentQuery.query(\"#attendanceView\")[0]",671121,40,"j",671162,102,"}})})}else{e.add({xtype:\"togglefield",670040,41,"value:a",670080,34,",listeners:{change:function(h,g,f){if(h.up(\"attendancelistitem\")!=undefined){",667371,64,670970,57,"h",671028,60,"workstation_operator_id:0,logged_at:Ext.ComponentQuery.query(\"#attendanceView\")[0]",671121,40,"h",671162,102,"}})}",671262,65,"list",671320,73,"list",671383,318,"Section",671697,881]