["function _482b2c6e8dd4a7dbe0661687920fe975329efd45",50,1747,"util){Poise.util",1783,600365,"(Ext.cmd.derive(\"Poise.util.Config\",Ext.Base,{singleton:true,config:{apiBaseU",632160,66,"\"",376336,44,";this.callParent([a])},addDays:function(a,b){return new Date(a.getTime()+b*24*60*60*1000)},lastSevenDays:function(){return[{id:(Ext.Date.format(Poise.util.Config.addDays(new Date(),0),\"Y-m-d\")),label:(Ext.Date.format(Poise.util.Config.addDays(new Date(),0),\"j M, Y\"))},{id:(Ext.Date.format(Poise.util.Config.addDays(new Date(),-1),\"Y-m-d\")),label:(Ext.Date.format(Poise.util.Config.addDays(new Date(),-1),\"j M, Y\"))},{id:(Ext.Date.format(Poise.util.Config.addDays(new Date(),-2),\"Y-m-d\")),label:(Ext.Date.format(Poise.util.Config.addDays(new Date(),-2),\"j M, Y\"))},{id:(Ext.Date.format(Poise.util.Config.addDays(new Date(),-3),\"Y-m-d\")),label:(Ext.Date.format(Poise.util.Config.addDays(new Date(),-3),\"j M, Y\"))},{id:(Ext.Date.format(Poise.util.Config.addDays(new Date(),-4),\"Y-m-d\")),label:(Ext.Date.format(Poise.util.Config.addDays(new Date(),-4),\"j M, Y\"))},{id:(Ext.Date.format(Poise.util.Config.addDays(new Date(),-5),\"Y-m-d\")),label:(Ext.Date.format(Poise.util.Config.addDays(new Date(),-5),\"j M, Y\"))},{id:(Ext.Date.format(Poise.util.Config.addDays(new Date(),-6),\"Y-m-d\")),label:(Ext.Date.format(Poise.util.Config.addDays(new Date(),-6),\"j M, Y\"))}]}},1,[\"appConfigUtil\"],[\"appConfigUtil\"],{appConfigUtil:true},[\"widget.appConfigUtil\"],0,[Poise.util,\"Config",610976,289,602430,11697,"charts.Multi",610636,62,"Chart\"}},0,[\"oc-multiba",608988,43,"multibar",612015,50,"multibarchart\":true},[\"widget.oc-multi",610282,33,"MultiBar",613840,703,",{name:\"attendance_today\",type:\"boolean",628814,32,614573,251,"Poise.util.Config.getApiBaseUrl()+\"",614887,265,"Poise.util.Config.getApiBaseUrl()+\"",615215,342,"Poise.util.Config.getApiBaseUrl()+\"",615620,936,"Poise.util.Config.getApiBaseUrl()+\"",616619,1409,"label",618030,49,",\"label\"],data:Poise.util.Config.lastSevenDays()",618126,887,"label",618030,49,",\"label\"],data:Poise.util.Config.lastSevenDays()",618126,71,619182,806,"label",618030,49,",\"label\"],data:Poise.util.Config.lastSevenDays()",618126,71,620157,312,620482,157,",scrollable:true",620639,589,"label",618030,49,",\"label\"],data:Poise.util.Config.lastSevenDays()",621326,480,"bottom",626439,45,621854,103,",tab:{cls:\"no-icon\"}",621957,36,",tab:{cls:\"no-icon\"}",621993,36,",tab:{cls:\"no-icon\"}",622029,44,",tab:{cls:\"no-icon\"}",622073,1243,"localStorage.setItem(\"obId\",\"\"",623314,575,";this.loadReports()},loadReports:function(){var e=Poise.app.getController(\"Poise.controller.Reports\");var a={config:{xtype:\"downtime_chart_panel\"}};e.onActiveItemChange(null,a);var f={config:{xtype:\"rework_chart_panel\"}};e.onActiveItemChange(null,f);var c={config:{xtype:\"output_chart_panel\"}};e.onActiveItemChange(null,c);var d={config:{xtype:\"section_output_chart_panel\"}};e.onActiveItemChange(null,d);var b={config:{xtype:\"attendance_chart_panel\"}};e.onActiveItemChange(null,b",623888,269,"2",624158,743,"Downtim",624107,50,"2,items:[{xtype:\"oc-multi",624973,369,"downtime_",624665,48,"downtime_",625406,56,"downtime_chart_panel:true},[\"widget.downtime_chart_panel\"],0,[Poise.view,\"Downtime",626234,45,"Output",624108,49,"2,items:[{xtype:\"oc-multi",625660,385,"output_",624665,48,"output_",625406,56,"output_chart_panel:true},[\"widget.output_chart_panel\"],0,[Poise.view,\"Output",626234,45,"SectionOutput",624108,49,"2,items:[{xtype:\"oc-multi",625660,164,"Section",625823,172,"Section",625994,51,"section_output_",624665,48,"section_output_",625406,56,"section_output_chart_panel:true},[\"widget.section_output_chart_panel\"],0,[Poise.view,\"SectionOutput",626234,47,"work",624108,49,"2,items:[{xtype:\"oc-multi",624973,144,"Rework",625830,165,624606,50,"rework_",624665,48,"rework_",625406,56,"rework_chart_panel:true},[\"widget.rework_chart_panel\"],0,[Poise.view,\"Rework",626234,45,"Attendanc",624107,50,"2,items:[{xtype:\"oc-multi",624973,144,"Attendance",625830,165,"Attendance",624612,44,"attendance_",624665,48,"attendance_",625406,56,"attendance_chart_panel:true},[\"widget.attendance_chart_panel\"],0,[Poise.view,\"Attendance",626234,100,"auto",626338,98,"bottom",626439,276,"height:\"auto\",scrollable:true,padding:0,tab:{cls:\"no-icon\"},items:[{xtype:\"panel\",layout:\"hbox\",cls:\"chart-header\",items:[{html:'<div class=\"chart-title\">Cumulative Downtime - Work Stations</div>',style:\"text-align: left; margin-bottom: 1em; font-weight: bold;\",flex:2},{xtype:\"button\",text:\"Refresh Data\",iconCls:\"refresh\",ui:\"confirm\",width:\"auto\",height:\"2.5em\",align:\"center\",action:\"refresh-downtime-chart\"},{html:'<div class=\"chart-title\">Date : '+new Date().toLocaleDateString()+\"</div>\",style:\"text-align: right; margin-bottom: 1em; font-weight: bold;\",flex:2}]},{xtype:\"downtime_chart_panel\",minHeight:\"30em",626749,94,"height:\"auto\",scrollable:true,padding:0,tab:{cls:\"no-icon\"},items:[{xtype:\"panel\",layout:\"hbox\",cls:\"chart-header\",items:[{html:'<div class=\"chart-title\">Cumulative Reworks - Work Stations</div>',style:\"text-align: left; margin-bottom: 1em; font-weight: bold;\",flex:2},{xtype:\"button\",text:\"Refresh Data\",iconCls:\"refresh\",ui:\"confirm\",width:\"auto\",height:\"2.5em\",align:\"center\",action:\"refresh-rework-chart\"},{html:'<div class=\"chart-title\">Date : '+new Date().toLocaleDateString()+\"</div>\",style:\"text-align: right; margin-bottom: 1em; font-weight: bold;\",flex:2}]},{xtype:\"rework_chart_panel\",minHeight:\"30em",626878,94,"height:\"auto\",scrollable:true,padding:0,tab:{cls:\"no-icon\"},items:[{xtype:\"panel\",layout:\"hbox\",cls:\"chart-header\",items:[{html:'<div class=\"chart-title\">Cumulative Output - Work Stations</div>',style:\"text-align: left; margin-bottom: 1em; font-weight: bold;\",flex:2},{xtype:\"button\",text:\"Refresh Data\",iconCls:\"refresh\",ui:\"confirm\",width:\"auto\",height:\"2.5em\",align:\"center\",action:\"refresh-output-chart",618703,38,"Date\",displayField:\"label\",valueField:\"id\",ui:\"normal\",cls:\"right-aligned\",flex:2,store:{fields:[\"id\",\"label\"],data:Poise.util.Config.lastSevenDays()},style:{\"padding-top\":\"0.25em\"}}]},{xtype:\"output_chart_panel\",minHeight:\"30em\"}]},{xtype:\"panel\",name:\"section_",626904,39,"Section Output\",itemId:\"sectionOutputChart\",height:\"auto\",scrollable:true,padding:0,tab:{cls:\"no-icon\"},items:[{xtype:\"panel\",layout:\"hbox\",cls:\"chart-header\",items:[{html:'<div class=\"chart-title\">Cumulative Output - Work Stations</div>',style:\"text-align: left; margin-bottom: 1em; font-weight: bold;\",flex:2},{xtype:\"button\",text:\"Refresh Data\",iconCls:\"refresh\",ui:\"confirm\",width:\"auto\",height:\"2.5em\",align:\"center\",action:\"refresh-section-output-chart",618703,38,"Date\",displayField:\"label\",valueField:\"id\",ui:\"normal\",cls:\"right-aligned\",flex:2,style:{\"text-align\":\"right\"},store:{fields:[\"id\",\"label\"],data:Poise.util.Config.lastSevenDays()},style:{\"padding-top\":\"0.25em\"}}]},{xtype:\"section_output_chart_panel\",minHeight:\"30em\"}]},{xtype:\"panel\",name:\"attendance",626910,33,"Attendance\",itemId:\"attendanceChart\",height:\"auto\",scrollable:true,padding:0,tab:{cls:\"no-icon\"},items:[{xtype:\"panel\",layout:\"hbox\",cls:\"chart-header\",items:[{html:'<div class=\"chart-title\">Attendance Trend - Past Week</div>',style:\"text-align: left; margin-bottom: 1em; font-weight: bold;\",flex:2},{xtype:\"button\",text:\"Refresh Data\",iconCls:\"refresh\",ui:\"confirm\",width:\"auto\",height:\"2.5em\",align:\"center\",action:\"refresh-attendance-chart\"},{html:'<div class=\"chart-title\"></div>',style:\"text-align: left; margin-bottom: 1em; font-weight: bold;\",flex:2}]},{xtype:\"attendance_chart_panel\",minHeight:\"30em",627003,4478,"Poise.util.Config.getApiBaseUrl()+\"",631544,287,"Poise.util.Config.getApiBaseUrl()+\"",631894,269,"Poise.util.Config.getApiBaseUrl()+\"",632226,3531,637398,105,"downtimeChart:\"downtime_chart_panel oc-multibarchart\",reworkChart:\"rework_chart_panel oc-multibarchart\",outputChart:\"output_chart_panel oc-multibarchart\",sectionOutputChart:\"section_output_chart_panel oc-multibarchart\",attendanceChart:\"attendance_chart_panel oc-multibarchart\",downtimeRefresh:\"button[action=refresh-downtime-chart]\",reworkRefresh:\"button[action=refresh-rework-chart]\",outputRefresh:\"button[action=refresh-output-chart]\",sectionOutputRefresh:\"button[action=refresh-section-output-chart]\",attendanceRefresh:\"button[action=refresh-attendance-chart]\"},control:{downtimeRefresh:{tap:\"refreshDowntimeChart\"},reworkRefresh:{tap:\"refreshReworkChart\"},outputRefresh:{tap:\"refreshOutputChart\"},sectionOutputRefresh:{tap:\"refreshSectionOutputChart\"},attendanceRefresh:{tap:\"refreshAttendanceChart\"}}},refreshDowntimeChart",638195,34,"downtime_chart_panel\"}};this.onActiveItemChange(null,a)},refreshReworkChart",638195,34,"rework_chart_panel\"}};this.onActiveItemChange(null,a)},refreshOutputChart",638195,34,"output_chart_panel\"}};this.onActiveItemChange(null,a)},refreshSectionOutputChart",638195,34,"section_output_chart_panel\"}};this.onActiveItemChange(null,a)},refreshAttendanceChart",638195,34,"attendance_chart_panel\"}};this.onActiveItemChange(null,",212749,32,"b,g,d,e){var h=g.config.xtype,f;var a=new Date().toLocaleDateString();var c=localStorage.getItem(\"obId\");switch(h){case\"downtime_chart_panel\":var f=this.getDowntimeChart();this.loadChartData(Poise.util.Config.getApiBaseUrl()+\"api/v1/reports/downtime.json?ob_id=\"+c+\"&report_date=\"+a,f);break;case\"rework_chart_panel\":var f=this.getReworkChart();this.loadChartData(Poise.util.Config.getApiBaseUrl()+\"api/v1/reports/rework.json?ob_id=\"+c+\"&report_date=\"+a,f);break;case\"output_chart_panel\":var f=this.getOutputChart();a=f.up(\"#outputChart",634954,33,";this.loadChartData(Poise.util.Config.getApiBaseUrl()+\"api/v1/reports/output.json?ob_id=\"+c+\"&report_date=\"+a,f);break;case\"section_output_chart_panel\":var f=this.getSectionOutputChart();a=f.up(\"#sectionOutputChart",634954,33,";this.loadChartData(Poise.util.Config.getApiBaseUrl()+\"api/v1/reports/section_output.json?ob_id=\"+c+\"&report_date=\"+a,f);break;case\"attendance_chart_panel\":var f=this.getAttendanceChart();this.loadChartData(Poise.util.Config.getApiBaseUrl()+\"api/v1/reports/attendance.json?ob_id=\"+c+\"&report_date=\"+a,f",643629,1754,645405,232,",itemId:\"toggleAttendance\",style:\"background-color: inherit\"},",627742,43,",itemId:\"workStationId\"",630572,40,"itemId:\"loggedAt\"}],listeners:[{fn:\"onToggl",623100,35,"toggleAttendance",645636,206,"b.down(\"#workStationId\").setValue(a.get(\"id\"));b.down(\"#loggedAt\").setValue",618091,33,";var c=b.down(\"#toggleAttendance\");c.suspendEvents();c.setValue(a.get(\"attendance_today\")?1:0);c.resumeEvents(true",645840,79,",onToggleChange:function(d,c,a,b){Ext.Ajax.request({",627677,34,"record_attendance\",method:\"POST\",params:{work_station_id:d.up(\"attendancelistitem\").down(\"#workStationId\").getValue(),logged_at:d.up(\"attendancelistitem\").down(\"#loggedAt\").getValue(),present:d.getValue()},success:function(){console.log(\"success\")},failure:function(){console.log(\"failure\")}}",645917,478,646418,483,"localStorage.clear();",646901,294]